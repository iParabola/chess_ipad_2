{"version":3,"sources":["webpack:///D:/chess/code/new-wargame-uniapp/uni_modules/judge-table/components/judge-table/judge-table.vue?91e0","webpack:///D:/chess/code/new-wargame-uniapp/uni_modules/judge-table/components/judge-table/judge-table.vue?dc58","webpack:///D:/chess/code/new-wargame-uniapp/uni_modules/judge-table/components/judge-table/judge-table.vue?e275","webpack:///D:/chess/code/new-wargame-uniapp/uni_modules/judge-table/components/judge-table/judge-table.vue?baea","uni-app:///uni_modules/judge-table/components/judge-table/judge-table.vue","webpack:///D:/chess/code/new-wargame-uniapp/uni_modules/judge-table/components/judge-table/judge-table.vue?7c5c","webpack:///D:/chess/code/new-wargame-uniapp/uni_modules/judge-table/components/judge-table/judge-table.vue?bcda"],"names":["name","props","showInfo","type","default","chessRound","roundPeriod","roundPeriodName","verdictRecordId","campId","stageOptions","watch","handler","deep","data","fileList","uploadCustomStyle","recordMap","actionInfo","key","index","eindex","filters","roundPeriodFormatter","title","mounted","methods","judgeOneByOne","open","close","imageClick","uni","urls","getRoundTree","res","resArray","console","getMapIndexByKey","groupBy","arr","obj","deletePic","urlList","afterRead","lists","fileListLen","item","status","message","i","result","Object","url","uploadFilePromise","filePath","header","Authorization","success","setTimeout","resolve","submitInstruct","icon","duration","confirmJudge"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAoI;AACpI;AAC+D;AACL;AACsC;;;AAGhG;AACsL;AACtL,gBAAgB,uLAAU;AAC1B,EAAE,iFAAM;AACR,EAAE,kGAAM;AACR,EAAE,2GAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,sGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,gQAEN;AACP,KAAK;AACL;AACA,aAAa,gQAEN;AACP,KAAK;AACL;AACA,aAAa,8OAEN;AACP,KAAK;AACL;AACA,aAAa,8OAEN;AACP,KAAK;AACL;AACA,aAAa,8OAEN;AACP,KAAK;AACL;AACA,aAAa,sTAEN;AACP,KAAK;AACL;AACA,aAAa,6SAEN;AACP,KAAK;AACL;AACA,aAAa,obAEN;AACP,KAAK;AACL;AACA,aAAa,uYAEN;AACP,KAAK;AACL;AACA,aAAa,obAEN;AACP,KAAK;AACL;AACA,aAAa,scAEN;AACP,KAAK;AACL;AACA,aAAa,kaAEN;AACP,KAAK;AACL;AACA,aAAa,wdAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACxIA;AAAA;AAAA;AAAA;AAAusB,CAAgB,uqBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;AC0I3tB;AACA;AAAA;AAAA;AAAA,gBACA;EACAA;EACAC;IACAC;MACAC;MACAC;QACA;UACAD;UACAE;UACAC;UACAC;UACAC;UACAC;QACA;MACA;IACA;IACAC;MACAP;MACAC;QACA;MACA;IACA;EACA;EACAO;IACAT;MACAU;QACA;UACA;QACA;MACA;MACAC;IACA;EACA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACAC;MACA,oBACA;QAAAC;MAAA,GACA;QAAAA;MAAA,GACA;QAAAA;MAAA,GACA;QAAAA;MAAA,EACA;MACA;IACA;EACA;EACAC;EACAC;IACAC;MACA;MACA;MACA;MACA;MACA;QACA;MACA;QACA;MACA;QACA;MACA;QACA;MACA;QACA;MACA;QACA;MACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MACA;IACA;IACAC;MACAC;QACAC;MACA;IACA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACA;cAAA;gBAAAC;gBACAC;gBACAA;kBAAA;gBAAA;gBACA;gBACAC;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACAC;MACA;MACA;MACA;QACA;UACA;QACA;QACAjB;MACA;IACA;IACAkB;MACA;MACAC;QACA;UACAC;QACA;QACAA;MACA;MACA;IACA;IAEAC;MACA;MACA;MACA;QACAC;MACA;IACA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACA;gBACAC;gBACAC;gBACAD;kBACA,qDACAE;oBACAC;oBACAC;kBAAA,GACA;gBACA;gBAEAC;cAAA;gBAAA;kBAAA;kBAAA;gBAAA;gBAAA;gBAAA,OACA;cAAA;gBAAAC;gBACAJ;gBACA,uBACAD,aACA,GACAM;kBACAJ;kBACAC;kBACAI;gBACA,GACA;gBACAP;cAAA;gBAZAI;gBAAA;gBAAA;cAAA;gBAcAP;gBACA;kBACAA;gBACA;gBACAN;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACAiB;MACA;MACA;QACAtB;UACAqB;UACAE;UACAtD;UACAuD;YACAC;UACA;UACAC;YACA;YACAC;cACAC;YACA;UACA;QACA;MACA;IACA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA,MACA;kBAAA;kBAAA;gBAAA;gBAAA,kCACA7B;kBACAP;kBACAqC;kBACAC;gBACA;cAAA;gBAEA;gBAAA;gBAAA,OACA;cAAA;gBAAA5B;gBACA;kBACAH;oBACAP;oBACAqC;oBACAC;kBACA;kBACA;kBACA;gBACA;kBACA/B;oBACAP;oBACAqC;oBACAC;kBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACAC;MACA;MACA;QACA;QACA;MACA;IACA;EACA;AACA;AAAA,4B;;;;;;;;;;;;;AC5VA;AAAA;AAAA;AAAA;AAAs1C,CAAgB,stCAAG,EAAC,C;;;;;;;;;;;ACA12C;AACA,OAAO,KAAU,EAAE,kBAKd","file":"uni_modules/judge-table/components/judge-table/judge-table.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./judge-table.vue?vue&type=template&id=b7c22f78&scoped=true&\"\nvar renderjs\nimport script from \"./judge-table.vue?vue&type=script&lang=js&\"\nexport * from \"./judge-table.vue?vue&type=script&lang=js&\"\nimport style0 from \"./judge-table.vue?vue&type=style&index=0&id=b7c22f78&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b7c22f78\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"uni_modules/judge-table/components/judge-table/judge-table.vue\"\nexport default component.exports","export * from \"-!../../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./judge-table.vue?vue&type=template&id=b7c22f78&scoped=true&\"","var components\ntry {\n  components = {\n    uniPopup: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-popup/components/uni-popup/uni-popup\" */ \"@/uni_modules/uni-popup/components/uni-popup/uni-popup.vue\"\n      )\n    },\n    uniTable: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-table/components/uni-table/uni-table\" */ \"@/uni_modules/uni-table/components/uni-table/uni-table.vue\"\n      )\n    },\n    uniTr: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-table/components/uni-tr/uni-tr\" */ \"@/uni_modules/uni-table/components/uni-tr/uni-tr.vue\"\n      )\n    },\n    uniTh: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-table/components/uni-th/uni-th\" */ \"@/uni_modules/uni-table/components/uni-th/uni-th.vue\"\n      )\n    },\n    uniTd: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-table/components/uni-td/uni-td\" */ \"@/uni_modules/uni-table/components/uni-td/uni-td.vue\"\n      )\n    },\n    uvUpload: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uv-upload/components/uv-upload/uv-upload\" */ \"@/uni_modules/uv-upload/components/uv-upload/uv-upload.vue\"\n      )\n    },\n    uvImage: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uv-image/components/uv-image/uv-image\" */ \"@/uni_modules/uv-image/components/uv-image/uv-image.vue\"\n      )\n    },\n    judgeFireAttackTable: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/judge-fire-attack-table/components/judge-fire-attack-table/judge-fire-attack-table\" */ \"@/uni_modules/judge-fire-attack-table/components/judge-fire-attack-table/judge-fire-attack-table.vue\"\n      )\n    },\n    judgeActionTable: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/judge-action-table/components/judge-action-table/judge-action-table\" */ \"@/uni_modules/judge-action-table/components/judge-action-table/judge-action-table.vue\"\n      )\n    },\n    judgeInvestigateTable: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/judge-investigate-table/components/judge-investigate-table/judge-investigate-table\" */ \"@/uni_modules/judge-investigate-table/components/judge-investigate-table/judge-investigate-table.vue\"\n      )\n    },\n    judgeCommunicationTable: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/judge-communication-table/components/judge-communication-table/judge-communication-table\" */ \"@/uni_modules/judge-communication-table/components/judge-communication-table/judge-communication-table.vue\"\n      )\n    },\n    judgeReactanceTable: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/judge-reactance-table/components/judge-reactance-table/judge-reactance-table\" */ \"@/uni_modules/judge-reactance-table/components/judge-reactance-table/judge-reactance-table.vue\"\n      )\n    },\n    judgeCommandControlTable: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/judge-command-control-table/components/judge-command-control-table/judge-command-control-table\" */ \"@/uni_modules/judge-command-control-table/components/judge-command-control-table/judge-command-control-table.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l2 = !(_vm.showInfo.type == \"input\")\n    ? _vm.__map(_vm.recordMap, function (value, key) {\n        var $orig = _vm.__get_orig(value)\n        var l1 = _vm.__map(value, function (item, index) {\n          var $orig = _vm.__get_orig(item)\n          var m0 = _vm.getMapIndexByKey(key) == 0 && index == 0\n          var l0 = _vm.__map(item.historyVoList, function (eitem, eindex) {\n            var $orig = _vm.__get_orig(eitem)\n            var g0 = eindex == 0 ? item.historyVoList.length : null\n            var g1 = eindex == 0 ? item.historyVoList.length : null\n            var f0 =\n              eindex == 0\n                ? _vm._f(\"roundPeriodFormatter\")(item.roundPeriod)\n                : null\n            var g2 = eindex == 0 ? item.historyVoList.length : null\n            return {\n              $orig: $orig,\n              g0: g0,\n              g1: g1,\n              f0: f0,\n              g2: g2,\n            }\n          })\n          return {\n            $orig: $orig,\n            m0: m0,\n            l0: l0,\n          }\n        })\n        return {\n          $orig: $orig,\n          l1: l1,\n        }\n      })\n    : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l2: l2,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./judge-table.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./judge-table.vue?vue&type=script&lang=js&\"","<template>\n\t<view>\n\t\t<uni-popup ref=\"popup\" :mask-click=\"false\">\n\t\t\t<view class=\"rule__view\">\n\t\t\t\t<view class=\"title\">{{ showInfo.type == 'input' ? '指令上传表' : '指令裁决表' }}</view>\n\t\t\t\t<uni-table border v-if=\"showInfo.type == 'input'\">\n\t\t\t\t\t<uni-tr class=\"rowTitle\">\n\t\t\t\t\t\t<uni-th align=\"center\">回合</uni-th>\n\t\t\t\t\t\t<uni-th align=\"center\">阶段</uni-th>\n\t\t\t\t\t\t<uni-th align=\"center\">指挥员指令</uni-th>\n\t\t\t\t\t</uni-tr>\n\t\t\t\t\t<uni-tr class=\"row\">\n\t\t\t\t\t\t<uni-td :rowspan=\"3\" align=\"center\">第{{ showInfo.chessRound }}回合</uni-td>\n\t\t\t\t\t\t<uni-td :rowspan=\"2\" align=\"center\">{{ showInfo.roundPeriodName }}</uni-td>\n\t\t\t\t\t\t<uni-td :rowspan=\"2\" align=\"center\">\n\t\t\t\t\t\t\t<uv-upload\n\t\t\t\t\t\t\t\t:fileList=\"fileList\"\n\t\t\t\t\t\t\t\tname=\"6\"\n\t\t\t\t\t\t\t\t:previewFullImage=\"true\"\n\t\t\t\t\t\t\t\t:maxCount=\"1\"\n\t\t\t\t\t\t\t\t:maxSize=\"2097152\"\n\t\t\t\t\t\t\t\t@afterRead=\"afterRead\"\n\t\t\t\t\t\t\t\t@delete=\"deletePic\"\n\t\t\t\t\t\t\t\t:customStyle=\"uploadCustomStyle\"\n\t\t\t\t\t\t\t></uv-upload>\n\t\t\t\t\t\t</uni-td>\n\t\t\t\t\t</uni-tr>\n\t\t\t\t</uni-table>\n\t\t\t\t<uni-table border v-else class=\"recordTable\">\n\t\t\t\t\t<view v-for=\"(value, key) in recordMap\" :key=\"key + 'map'\">\n\t\t\t\t\t\t<view v-for=\"(item, index) in value\" :key=\"index\">\n\t\t\t\t\t\t\t<uni-tr class=\"rowTitle\" v-if=\"getMapIndexByKey(key) == 0 && index == 0\">\n\t\t\t\t\t\t\t\t<uni-th align=\"center\" class=\"col1\" style=\"color: #ffffff\">回合</uni-th>\n\t\t\t\t\t\t\t\t<uni-th align=\"center\" class=\"col2\" style=\"color: #ffffff\">阶段</uni-th>\n\t\t\t\t\t\t\t\t<uni-th align=\"center\" class=\"col3\" style=\"color: #ffffff\">指挥员指令</uni-th>\n\t\t\t\t\t\t\t\t<uni-th align=\"center\" class=\"col4\" style=\"color: #ffffff\">单位</uni-th>\n\t\t\t\t\t\t\t\t<uni-th align=\"center\" class=\"col5\" style=\"color: #ffffff\">部队动作</uni-th>\n\t\t\t\t\t\t\t\t<uni-th\n\t\t\t\t\t\t\t\t\talign=\"center\"\n\t\t\t\t\t\t\t\t\tclass=\"col6\"\n\t\t\t\t\t\t\t\t\tstyle=\"color: #ffffff\"\n\t\t\t\t\t\t\t\t\tv-if=\"showInfo.type == 'record'\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t裁决结果\n\t\t\t\t\t\t\t\t</uni-th>\n\t\t\t\t\t\t\t\t<uni-th\n\t\t\t\t\t\t\t\t\talign=\"center\"\n\t\t\t\t\t\t\t\t\tclass=\"col6\"\n\t\t\t\t\t\t\t\t\tstyle=\"color: #ffffff\"\n\t\t\t\t\t\t\t\t\tv-if=\"showInfo.type == 'judge'\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t裁决\n\t\t\t\t\t\t\t\t</uni-th>\n\t\t\t\t\t\t\t</uni-tr>\n\n\t\t\t\t\t\t\t<uni-tr class=\"row\" v-for=\"(eitem, eindex) in item.historyVoList\" :key=\"eindex\">\n\t\t\t\t\t\t\t\t<uni-td\n\t\t\t\t\t\t\t\t\tv-if=\"eindex == 0\"\n\t\t\t\t\t\t\t\t\t:rowspan=\"item.historyVoList.length\"\n\t\t\t\t\t\t\t\t\talign=\"center\"\n\t\t\t\t\t\t\t\t\tclass=\"col1\"\n\t\t\t\t\t\t\t\t\t:align=\"'center'\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t第{{ key }}回合\n\t\t\t\t\t\t\t\t</uni-td>\n\t\t\t\t\t\t\t\t<uni-td\n\t\t\t\t\t\t\t\t\tv-if=\"eindex == 0\"\n\t\t\t\t\t\t\t\t\t:rowspan=\"item.historyVoList.length\"\n\t\t\t\t\t\t\t\t\talign=\"center\"\n\t\t\t\t\t\t\t\t\tclass=\"col2\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{{ item.roundPeriod | roundPeriodFormatter }}\n\t\t\t\t\t\t\t\t</uni-td>\n\t\t\t\t\t\t\t\t<uni-td\n\t\t\t\t\t\t\t\t\tv-if=\"eindex == 0\"\n\t\t\t\t\t\t\t\t\t:rowspan=\"item.historyVoList.length\"\n\t\t\t\t\t\t\t\t\talign=\"center\"\n\t\t\t\t\t\t\t\t\tclass=\"col3\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<uv-image @click=\"imageClick(item.coverUrl)\" :src=\"item.coverUrl\"></uv-image>\n\t\t\t\t\t\t\t\t</uni-td>\n\t\t\t\t\t\t\t\t<uni-td align=\"center\" class=\"col4\">{{ eitem.chessPiecesNumber }}</uni-td>\n\t\t\t\t\t\t\t\t<uni-td align=\"center\" class=\"col5\">{{ eitem.actionDesc }}</uni-td>\n\t\t\t\t\t\t\t\t<uni-td v-if=\"showInfo.type == 'record'\" align=\"center\" class=\"col6\">\n\t\t\t\t\t\t\t\t\t{{ eitem.attackResult }}\n\t\t\t\t\t\t\t\t</uni-td>\n\t\t\t\t\t\t\t\t<uni-td v-if=\"showInfo.type == 'judge'\" align=\"center\" class=\"col6\">\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t@click=\"judgeOneByOne(eitem, key, index, eindex)\"\n\t\t\t\t\t\t\t\t\t\t:disabled=\"eitem.status == 2\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{{ eitem.status != 2 ? '裁决' : '已裁决' }}\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</uni-td>\n\t\t\t\t\t\t\t</uni-tr>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</uni-table>\n\t\t\t\t<view class=\"foot\">\n\t\t\t\t\t<view v-if=\"showInfo.type == 'input'\" style=\"flex: 1\" @click=\"submitInstruct\">保存指令</view>\n\t\t\t\t\t<view style=\"background-color: #ea9d00; flex: 1\" @click=\"close\">关闭</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</uni-popup>\n\t\t<judge-fire-attack-table\n\t\t\tref=\"judgeFireAttackTable\"\n\t\t\t:actionInfo=\"actionInfo\"\n\t\t\t@confirmJudge=\"confirmJudge\"\n\t\t></judge-fire-attack-table>\n\t\t<judge-action-table\n\t\t\tref=\"judgeActionTable\"\n\t\t\t:actionInfo=\"actionInfo\"\n\t\t\t@confirmJudge=\"confirmJudge\"\n\t\t></judge-action-table>\n\t\t<judge-investigate-table\n\t\t\tref=\"judgeInvestigateTable\"\n\t\t\t:actionInfo=\"actionInfo\"\n\t\t\t@confirmJudge=\"confirmJudge\"\n\t\t></judge-investigate-table>\n\t\t<judge-communication-table\n\t\t\tref=\"judgeCommunicationTable\"\n\t\t\t:actionInfo=\"actionInfo\"\n\t\t\t@confirmJudge=\"confirmJudge\"\n\t\t></judge-communication-table>\n\t\t<judge-reactance-table\n\t\t\tref=\"judgeReactanceTable\"\n\t\t\t:actionInfo=\"actionInfo\"\n\t\t\t@confirmJudge=\"confirmJudge\"\n\t\t></judge-reactance-table>\n\t\t<judge-command-control-table\n\t\t\tref=\"judgeCommandControlTable\"\n\t\t\t:actionInfo=\"actionInfo\"\n\t\t\t@confirmJudge=\"confirmJudge\"\n\t\t></judge-command-control-table>\n\t</view>\n</template>\n\n<script>\nimport { baseURL, getUserTokenStorage } from '@/api/http.js';\nimport { saveRoundCover, getHistoryTreeByRound } from '@/api/verdictRecord.js';\nexport default {\n\tname: 'judge-table',\n\tprops: {\n\t\tshowInfo: {\n\t\t\ttype: Object,\n\t\t\tdefault() {\n\t\t\t\treturn {\n\t\t\t\t\ttype: '',\n\t\t\t\t\tchessRound: 0,\n\t\t\t\t\troundPeriod: 0,\n\t\t\t\t\troundPeriodName: '',\n\t\t\t\t\tverdictRecordId: undefined,\n\t\t\t\t\tcampId: undefined\n\t\t\t\t};\n\t\t\t}\n\t\t},\n\t\tstageOptions: {\n\t\t\ttype: Array,\n\t\t\tdefault() {\n\t\t\t\treturn [];\n\t\t\t}\n\t\t}\n\t},\n\twatch: {\n\t\tshowInfo: {\n\t\t\thandler(newVal) {\n\t\t\t\tif (newVal.type == 'record' || newVal.type == 'judge') {\n\t\t\t\t\tthis.getRoundTree(newVal);\n\t\t\t\t}\n\t\t\t},\n\t\t\tdeep: true\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tfileList: [],\n\t\t\tuploadCustomStyle: {},\n\t\t\trecordMap: {},\n\t\t\tactionInfo: {},\n\t\t\tkey: '',\n\t\t\tindex: -1,\n\t\t\teindex: -1\n\t\t};\n\t},\n\tfilters: {\n\t\troundPeriodFormatter(val) {\n\t\t\tlet stageOptions = [\n\t\t\t\t{ title: '作战保障' },\n\t\t\t\t{ title: '合成行动' },\n\t\t\t\t{ title: '后装保障' },\n\t\t\t\t{ title: '认知域作战行动' }\n\t\t\t];\n\t\t\treturn stageOptions[val - 1].title;\n\t\t}\n\t},\n\tmounted() {},\n\tmethods: {\n\t\tjudgeOneByOne(eitem, key, index, eindex) {\n\t\t\tthis.key = key;\n\t\t\tthis.index = index;\n\t\t\tthis.eindex = eindex;\n\t\t\tthis.actionInfo = eitem;\n\t\t\tif (eitem.actionMode == 10) {\n\t\t\t\tthis.$refs.judgeActionTable.open();\n\t\t\t} else if (eitem.actionMode == 20) {\n\t\t\t\tthis.$refs.judgeFireAttackTable.open();\n\t\t\t} else if (eitem.actionMode == 40) {\n\t\t\t\tthis.$refs.judgeInvestigateTable.open();\n\t\t\t} else if (eitem.actionMode == 50) {\n\t\t\t\tthis.$refs.judgeCommunicationTable.open();\n\t\t\t} else if (eitem.actionMode == 60) {\n\t\t\t\tthis.$refs.judgeReactanceTable.open();\n\t\t\t} else if (eitem.actionMode == 70) {\n\t\t\t\tthis.$refs.judgeCommandControlTable.open();\n\t\t\t}\n\t\t},\n\t\topen() {\n\t\t\tthis.$refs.popup.open();\n\t\t\t// this.sign();\n\t\t},\n\t\tclose() {\n\t\t\tthis.$refs.popup.close();\n\t\t},\n\t\timageClick(url) {\n\t\t\tuni.previewImage({\n\t\t\t\turls: [url]\n\t\t\t});\n\t\t},\n\t\tasync getRoundTree(item) {\n\t\t\tlet res = await getHistoryTreeByRound(item);\n\t\t\tlet resArray = res.data.data;\n\t\t\tresArray = resArray.filter((item) => item.historyVoList.length > 0);\n\t\t\tthis.recordMap = this.groupBy(resArray, 'chessRound');\n\t\t\tconsole.log('this.recordMap: ', this.recordMap);\n\t\t},\n\t\tgetMapIndexByKey(key) {\n\t\t\t// 依次获取map对象值\n\t\t\tlet index = 0;\n\t\t\tfor (var k in this.recordMap) {\n\t\t\t\tif (k == key) {\n\t\t\t\t\treturn index;\n\t\t\t\t}\n\t\t\t\tindex++;\n\t\t\t}\n\t\t},\n\t\tgroupBy(arr, key) {\n\t\t\tlet obj = {};\n\t\t\tarr.forEach((item) => {\n\t\t\t\tif (!obj[item[key]]) {\n\t\t\t\t\tobj[item[key]] = [];\n\t\t\t\t}\n\t\t\t\tobj[item[key]].push(item);\n\t\t\t});\n\t\t\treturn obj;\n\t\t},\n\n\t\tdeletePic(e) {\n\t\t\tthis.fileList.splice(e.index, 1);\n\t\t\tlet urlList = [];\n\t\t\tthis.fileList.map((item) => {\n\t\t\t\turlList.push(item.url);\n\t\t\t});\n\t\t},\n\t\tasync afterRead(event) {\n\t\t\t// 当设置 multiple 为 true 时, file 为数组格式，否则为对象格式afterRead\n\t\t\tlet lists = [].concat(event.file);\n\t\t\tlet fileListLen = this.fileList.length;\n\t\t\tlists.map((item) => {\n\t\t\t\tthis.fileList.push({\n\t\t\t\t\t...item,\n\t\t\t\t\tstatus: 'uploading',\n\t\t\t\t\tmessage: '上传中'\n\t\t\t\t});\n\t\t\t});\n\n\t\t\tfor (let i = 0; i < lists.length; i++) {\n\t\t\t\tconst result = await this.uploadFilePromise(lists[i].url);\n\t\t\t\tlet item = this.fileList[fileListLen];\n\t\t\t\tthis.fileList.splice(\n\t\t\t\t\tfileListLen,\n\t\t\t\t\t1,\n\t\t\t\t\tObject.assign(item, {\n\t\t\t\t\t\tstatus: 'success',\n\t\t\t\t\t\tmessage: '',\n\t\t\t\t\t\turl: result\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t\tfileListLen++;\n\t\t\t}\n\t\t\tlet urlList = [];\n\t\t\tthis.fileList.map((item) => {\n\t\t\t\turlList.push(item.url);\n\t\t\t});\n\t\t\tconsole.log('this.fileList: ', this.fileList);\n\t\t},\n\t\tuploadFilePromise(avatarUrl) {\n\t\t\tlet that = this;\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tuni.uploadFile({\n\t\t\t\t\turl: baseURL + 'system/upload',\n\t\t\t\t\tfilePath: avatarUrl,\n\t\t\t\t\tname: 'file',\n\t\t\t\t\theader: {\n\t\t\t\t\t\tAuthorization: getUserTokenStorage()\n\t\t\t\t\t},\n\t\t\t\t\tsuccess: (uploadFileRes) => {\n\t\t\t\t\t\tlet jsonRes = JSON.parse(uploadFileRes.data);\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tresolve(jsonRes.data.url);\n\t\t\t\t\t\t}, 1000);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tasync submitInstruct() {\n\t\t\tif (this.fileList.length == 0) {\n\t\t\t\treturn uni.showToast({\n\t\t\t\t\ttitle: '请上传指令图片',\n\t\t\t\t\ticon: 'none',\n\t\t\t\t\tduration: 2500\n\t\t\t\t});\n\t\t\t}\n\t\t\tthis.showInfo.coverUrl = this.fileList[0].url;\n\t\t\tlet res = await saveRoundCover(this.showInfo);\n\t\t\tif (res.data.code == 200) {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '保存成功',\n\t\t\t\t\ticon: 'none',\n\t\t\t\t\tduration: 2500\n\t\t\t\t});\n\t\t\t\tthis.fileList = [];\n\t\t\t\tthis.$refs.popup.close();\n\t\t\t} else {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '保存失败',\n\t\t\t\t\ticon: 'none',\n\t\t\t\t\tduration: 2500\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tconfirmJudge(notJudgeNumber) {\n\t\t\tthis.recordMap[this.key][this.index].historyVoList[this.eindex].status = 2;\n\t\t\tif (notJudgeNumber == 0) {\n\t\t\t\t//所有记录裁决完毕\n\t\t\t\tthis.$emit('judgeComplete');\n\t\t\t}\n\t\t}\n\t}\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.rule__view {\n\tbackground-color: $uni-bg-color;\n\t.title {\n\t\ttext-align: center;\n\t\theight: 40px;\n\t\tline-height: 40px;\n\t\tfont-weight: bolder;\n\t\tbackground-color: #1cade4;\n\t\tfont-size: $uni-font-size-title;\n\t\tcolor: $uni-text-color-inverse;\n\t}\n\n\t.foot {\n\t\ttext-align: center;\n\t\theight: 40px;\n\t\tline-height: 40px;\n\t\tfont-weight: bolder;\n\t\tbackground-color: #1cade4;\n\t\tfont-size: $uni-font-size-title;\n\t\tcolor: $uni-text-color-inverse;\n\t\tdisplay: flex;\n\t\twidth: auto;\n\t}\n\ttd {\n\t\tcolor: black;\n\t}\n\n\t.rowTitle {\n\t\tcolor: #ffffff;\n\t\tbackground-color: #1cade4;\n\t}\n\t.row:nth-child(odd) {\n\t\tbackground-color: #cce3f5;\n\t}\n\t.row:nth-child(even) {\n\t\tbackground-color: #e7f1fa;\n\t}\n\n\t.col1 {\n\t\tcolor: #ffffff;\n\t\tbackground-color: #1cade4;\n\t}\n}\n.line {\n\tposition: fixed;\n\theight: 2px;\n\tbackground-color: rgba(255, 0, 0, 0.2);\n\tanimation: stretch-line 1s ease-in-out forwards;\n\tanimation-delay: 1s;\n}\n@keyframes stretch-line {\n\t0% {\n\t\twidth: 0;\n\t}\n\t100% {\n\t\twidth: 75vw; /* 指定直线长度 */\n\t}\n}\n.v-line {\n\tposition: fixed;\n\twidth: 2px;\n\tbackground-color: rgba(255, 0, 0, 0.2);\n\tanimation: stretch-v-line 1s ease-in-out forwards;\n\tvisibility: hidden;\n\tanimation-delay: 1s;\n}\n@keyframes stretch-v-line {\n\t0% {\n\t\theight: 0;\n\t}\n\t100% {\n\t\theight: 70vh; /* 指定直线长度 */\n\t}\n}\n\n.circle {\n\tposition: fixed;\n\twidth: 50px;\n\theight: 50px;\n\tborder-radius: 100%;\n\tborder: 1px red solid;\n\tvisibility: hidden;\n}\ntable td {\n\tvertical-align: middle !important;\n}\n\n.recordTable {\n\theight: 40vh;\n\toverflow-y: scroll;\n}\n.col1 {\n\twidth: 120px;\n}\n.col2 {\n\twidth: 150px;\n}\n.col3 {\n\twidth: 120px;\n}\n.col4 {\n\twidth: 80px;\n}\n.col5 {\n\twidth: 300px;\n}\n.col6 {\n\twidth: 120px;\n}\n</style>\n","import mod from \"-!../../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./judge-table.vue?vue&type=style&index=0&id=b7c22f78&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./judge-table.vue?vue&type=style&index=0&id=b7c22f78&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1730963226072\n      var cssReload = require(\"D:/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}