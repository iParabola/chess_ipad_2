{"version":3,"sources":["uni-app:///main.js","webpack:///D:/chess/code/new-wargame-uniapp/pages/verdict/detail.vue?f860","webpack:///D:/chess/code/new-wargame-uniapp/pages/verdict/detail.vue?3893","webpack:///D:/chess/code/new-wargame-uniapp/pages/verdict/detail.vue?6f11","webpack:///D:/chess/code/new-wargame-uniapp/pages/verdict/detail.vue?ece0","uni-app:///pages/verdict/detail.vue","webpack:///D:/chess/code/new-wargame-uniapp/pages/verdict/detail.vue?4e11","webpack:///D:/chess/code/new-wargame-uniapp/pages/verdict/detail.vue?bd21"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","components","VueDraggableResizable","data","value","range","text","game","status","chessRound","nowRound","baseRound","userPiece","isDeplaoy","isOwn","isUser","showSettlement","settlement","showResult","result","resultStr","allRound","roundPeriod","roundDesc","actionDescList","map","attackConfirm","attackNumber","moveConfirm","verdictRecordId","campId","mapLongTmp","mapWidthTmp","boxWith","mapLong","mapWidth","showOp","showDown","showSelPiece","selCellInfo","targetCellInfo","tmQuery","isMove","isAttack","legendList","name","mapList","user","roundOptions","stageOptions","title","roundActive","stageActive","stageParam","historyList","ruleArray","blowEffectList","realTimeScore","firstCampName","firstScoretype1","firstScoretype2","firstScoretype3","firstScoretypeTotal","secondCampName","secondScoretype1","secondScoretype2","secondScoretype3","secondScoretypeTotal","campList","chartRound","summaryScoreData","onLoad","setTimeout","computed","cssVars","onReady","methods","init","id","res","resultData","getRuleList","verdictType","ruleRes","console","blowEffectRes","queryEachAction","type","prompt","array","cjResult","queryChessRecordByRound","itemk","h","item","jsonArray","sItem","initialRoundOptions","stageChange","roundChange","formateStageParam","dice","showOpView","val","queryMapInfoFunc","actionList","pieceList","tips","gen","coordinate","chessPiecesNumber","chessPiecesName","chessPiecesCover","arrange","document","offsetTop","queryUsChessPiecesInfoFunc","endDeployFunc","userId","getRealTimeScore","queryScoreData","scoreListResult","realTimeScoreList","formatterCampList","campName","userName","getFinalSummary"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,eAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAmH;AACnH;AAC0D;AACL;AACc;;;AAGnE;AACgL;AAChL,gBAAgB,uLAAU;AAC1B,EAAE,4EAAM;AACR,EAAE,iFAAM;AACR,EAAE,0FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,qFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,6SAEN;AACP,KAAK;AACL;AACA,aAAa,kRAEN;AACP,KAAK;AACL;AACA,aAAa,yQAEN;AACP,KAAK;AACL;AACA,aAAa,uPAEN;AACP,KAAK;AACL;AACA,aAAa,gQAEN;AACP,KAAK;AACL;AACA,aAAa,8OAEN;AACP,KAAK;AACL;AACA,aAAa,8OAEN;AACP,KAAK;AACL;AACA,aAAa,gQAEN;AACP,KAAK;AACL;AACA,aAAa,+TAEN;AACP,KAAK;AACL;AACA,aAAa,yQAEN;AACP,KAAK;AACL;AACA,aAAa,wUAEN;AACP,KAAK;AACL;AACA,aAAa,kRAEN;AACP,KAAK;AACL;AACA,aAAa,oSAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,mBAAO,CAAC,iCAAwB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACjHA;AAAA;AAAA;AAAA;AAAoqB,CAAgB,kqBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;ACmIxrB;AACA;AAYA;AAAA;AAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA,eAEA;EACAC;IACAC;EACA;EACAC;IACA;MACAC;MACAC,QACA;QAAAD;QAAAE;MAAA,GACA;QAAAF;QAAAE;MAAA,GACA;QAAAF;QAAAE;MAAA,EACA;MACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;MACA;MACAC;MAEAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC,aACA;QACAC;MACA,EACA;MACAC;MACAC;MACAC;MACAC,eACA;QAAAC;MAAA,GACA;QAAAA;MAAA,GACA;QAAAA;MAAA,GACA;QAAAA;MAAA,EACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;MACA;MACAC;MACAC;MACAC;IACA;EACA;EAEAC;IAAA;IACA;IACAC;MACA;IACA;IACA;IACA;IACA;IACA;IACAA;MACA;IACA;EACA;EACAC;IACAC;MACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;MACA;IACA;EACA;EACAC;EACAC;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACA;gBACA;gBACA1E;kBACA2E;gBACA;gBAAA;gBAAA,OACA;cAAA;gBAAAC;gBACAC;gBACA;kBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACA9E;kBACA+E;gBACA;gBAAA;gBAAA,OACA;cAAA;gBAAAC;gBACAC;gBACA;gBACA;gBAAA;gBAAA,OACA;cAAA;gBAAAC;gBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IAEAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACAnF;kBACAM;kBACAqE;kBACAS;kBACAlC;gBACA,GACA;gBACA;gBAAA;gBAAA,OACA;cAAA;gBAAAmC;gBACAJ;gBACAK;gBACA;gBACA;kBACAA;gBACA;gBACAA;kBACA;gBACA;gBACAA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACAC;MACA;QACA;MACA;IACA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACAxF;kBACA0B;kBACApB;kBACA4C;gBACA;gBAAA;gBAAA,OAEA;cAAA;gBAAA0B;gBACAK;gBAAA,uCACA;gBAAA;kBAAA;oBAAAQ;oBAAA,wCACAA;oBAAA;sBAAA;wBAAAC;wBACAA;wBACAA;wBACAA;wBACAA;wBACAA;wBACAA;sBACA;oBAAA;sBAAA;oBAAA;sBAAA;oBAAA;kBACA;gBAAA;kBAAA;gBAAA;kBAAA;gBAAA;gBAAA,wCAEAd;gBAAA;gBAAA;cAAA;gBAAA;kBAAA;kBAAA;gBAAA;gBAAAe;gBACAA;gBACAA;gBACAA;gBAAA,wCACA;gBAAA;gBAAA;cAAA;gBAAA;kBAAA;kBAAA;gBAAA;gBAAAF;gBAAA,wCACAA;gBAAA;gBAAA;cAAA;gBAAA;kBAAA;kBAAA;gBAAA;gBAAAC;gBAAA,MACAA;kBAAA;kBAAA;gBAAA;gBACAE;gBACAC;gBACA;kBACA;oBACAA;kBACA;gBACA;gBAEAH;gBACAA;gBACAA;gBACAA;gBACAA;gBACAA;gBACAA;gBACAA;gBACAC;gBAAA;cAAA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAAA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAMA;IAEAG;MACA;MACA;QACA;UAAA/C;QAAA;MACA;IACA;IACAgD;MACAd;MACA;QACA;QACA;QACA;QACA;MACA;IACA;IACAe;MACAf;MACA;QACA;QACA;QACA;MACA;IACA;IACAgB;MACA;QACA;MACA;QACA;MACA;QACA;MACA;QACA;MACA;IACA;IACAC;MAAA;MACA;MACA;QACA;QACA;MACA;IACA;IACAC;MACAlB;MACA;QACA;MACA;MAEA;QACA;QACA;UACA;QACA;UACA;QACA;MACA;QACA;UACA,IACAmB,yBACAA,wCACA,iBACAA,kBACA;YACA;YACA;UACA;YACA;cACA;cACA;cACA;YACA;YACA;cACA;cACA;YACA;UACA;QACA;MACA;IACA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACArG;kBACA2E;gBACA;gBACA;kBACA;kBACAM;kBACA,iBACA;oBACAqB,aACA;sBACAC;sBACAC;oBACA,EACA;oBACAA;kBACA,EACA;kBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACAC;MAAA;MACA;MACA;MAEA;MACA;QACA;QACA;UACA;YACAC,YACA;YACAC;YACAC;YACAC;UACA;UACA;QACA;MACA;MACAxC;QACA;QACA;MACA;IACA;IACAyC;MAAA;MACA;MACA;MACAC;QACApB;QACA;UACA;UACA;YACAA;YACA;UACA;QACA;;QACAqB;MACA;IACA;IAEAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACAjH;kBACA0B;kBACApB;gBACA;gBACAsE;gBAAA,KACA;kBAAA;kBAAA;gBAAA;gBACA5E;gBAAA;gBAAA,OACA;cAAA;gBAAA4E;gBAAA;gBAAA;cAAA;gBAAA;gBAAA,OAEA;cAAA;gBAAAA;cAAA;gBAAA,wCAGA;gBAAA;kBAAA,uDACA;oBADAa;oBAAA,wCACAA;oBAAA;sBAAA;wBAAAC;wBACAA;wBACAA;wBACAA;wBACAA;wBACAA;wBACAA;sBACA;oBAAA;sBAAA;oBAAA;sBAAA;oBAAA;kBAAA;gBAAA;kBAAA;gBAAA;kBAAA;gBAAA;gBACA;gBAAA,wCACAd;gBAAA;gBAAA;cAAA;gBAAA;kBAAA;kBAAA;gBAAA;gBAAAe;gBACAA;gBACAA;gBACAA;gBACA;gBAAA,wCACA;gBAAA;gBAAA;cAAA;gBAAA;kBAAA;kBAAA;gBAAA;gBAAAF;gBAAA,yCACAA;gBAAA;gBAAA;cAAA;gBAAA;kBAAA;kBAAA;gBAAA;gBAAAC;gBAAA,MACAA;kBAAA;kBAAA;gBAAA;gBACAA;gBACAA;gBACAA;gBACAA;gBACAA;gBACAA;gBACAA;gBACAA;gBACAC;gBAAA;cAAA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAAA;cAAA;gBAKAV;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACAiC;MACA;QACAxF;QACAyF;MACA;MACA;MACA;IACA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACAC;kBACA3F;gBACA;gBAAA;gBAAA,OACA;cAAA;gBAAA4F;gBACAC;gBACAtC;gBACA;gBACA;gBACA;gBACA;gBACA;kBACA;oBACA;sBACA;oBACA;sBACA;oBACA;sBACA;oBACA;oBACA;kBACA;oBACA;sBACA;oBACA;sBACA;oBACA;sBACA;oBACA;oBACA;kBACA;gBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACAuC;MACA;MACA;QACA7F;QACA8F;QACAN;QACAO;QACAhG;MACA;MACA;MACA;QACAC;QACA8F;QACAN;QACAO;QACAhG;MACA;MACAuD;MACA;IACA;IACA0C;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACAN;kBACA3F;gBACA;gBAAA;gBAAA,OACA;cAAA;gBAAAkD;gBACA;gBACAK;gBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;AChoBA;AAAA;AAAA;AAAA;AAAmwC,CAAgB,yrCAAG,EAAC,C;;;;;;;;;;;ACAvxC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/verdict/detail.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/verdict/detail.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./detail.vue?vue&type=template&id=c09cc300&\"\nvar renderjs\nimport script from \"./detail.vue?vue&type=script&lang=js&\"\nexport * from \"./detail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./detail.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/verdict/detail.vue\"\nexport default component.exports","export * from \"-!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=template&id=c09cc300&\"","var components\ntry {\n  components = {\n    uvModal: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uv-modal/components/uv-modal/uv-modal\" */ \"@/uni_modules/uv-modal/components/uv-modal/uv-modal.vue\"\n      )\n    },\n    xinyiSteps: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/xinyi-steps/components/xinyi-steps/xinyi-steps\" */ \"@/uni_modules/xinyi-steps/components/xinyi-steps/xinyi-steps.vue\"\n      )\n    },\n    uniDrawer: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-drawer/components/uni-drawer/uni-drawer\" */ \"@/uni_modules/uni-drawer/components/uni-drawer/uni-drawer.vue\"\n      )\n    },\n    uniCard: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-card/components/uni-card/uni-card\" */ \"@/uni_modules/uni-card/components/uni-card/uni-card.vue\"\n      )\n    },\n    uniTable: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-table/components/uni-table/uni-table\" */ \"@/uni_modules/uni-table/components/uni-table/uni-table.vue\"\n      )\n    },\n    uniTr: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-table/components/uni-tr/uni-tr\" */ \"@/uni_modules/uni-table/components/uni-tr/uni-tr.vue\"\n      )\n    },\n    uniTd: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-table/components/uni-td/uni-td\" */ \"@/uni_modules/uni-table/components/uni-td/uni-td.vue\"\n      )\n    },\n    uniPopup: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-popup/components/uni-popup/uni-popup\" */ \"@/uni_modules/uni-popup/components/uni-popup/uni-popup.vue\"\n      )\n    },\n    xinyiDice: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/xinyi-dice/components/xinyi-dice/xinyi-dice\" */ \"@/uni_modules/xinyi-dice/components/xinyi-dice/xinyi-dice.vue\"\n      )\n    },\n    ruleTable: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/rule-table/components/rule-table/rule-table\" */ \"@/uni_modules/rule-table/components/rule-table/rule-table.vue\"\n      )\n    },\n    blowEffectTable: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/blow-effect-table/components/blow-effect-table/blow-effect-table\" */ \"@/uni_modules/blow-effect-table/components/blow-effect-table/blow-effect-table.vue\"\n      )\n    },\n    ruleResult: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/rule-result/components/rule-result/rule-result\" */ \"@/uni_modules/rule-result/components/rule-result/rule-result.vue\"\n      )\n    },\n    finalSummary: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/final-summary/components/final-summary/final-summary\" */ \"@/uni_modules/final-summary/components/final-summary/final-summary.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var m0 = require(\"@/static/image/map.jpg\")\n  if (!_vm._isMounted) {\n    _vm.e0 = function ($event) {\n      return _vm.$refs.showActionDesc.open()\n    }\n    _vm.e1 = function ($event) {\n      _vm.game.showSettlement = false\n    }\n    _vm.e2 = function ($event) {\n      _vm.game.showSettlement = false\n    }\n  }\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        m0: m0,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"xinyi-content\">\n\t\t<view class=\"rightBtn\">\n\t\t\t<view class=\"btnView\" @click=\"$refs.showActionDesc.open()\">记录明细</view>\n\t\t\t<view class=\"btnView\" @click=\"getRealTimeScore\">实时得分</view>\n\t\t\t<!-- <view class=\"btnView\" @click=\"getTableScoreFinal\">推演得分</view> -->\n\t\t\t<view class=\"btnView\" @click=\"getFinalSummary\">推演汇总</view>\n\t\t</view>\n\t\t<uv-modal\n\t\t\t:showCancelButton=\"false\"\n\t\t\t:show=\"game.showSettlement\"\n\t\t\t@cancel=\"game.showSettlement = false\"\n\t\t\t@confirm=\"game.showSettlement = false\"\n\t\t\ttitle=\"结算\"\n\t\t>\n\t\t\t<view>\n\t\t\t\t<div>我方攻击分数:{{ game.settlement.selfAttackScore }}</div>\n\t\t\t\t<div>我方筛子分数:{{ game.settlement.selfDiceScore }}</div>\n\t\t\t\t<div>对方攻击分数:{{ game.settlement.targetAttackScore }}</div>\n\t\t\t\t<div>对方筛子分数:{{ game.settlement.targetDiceScore }}</div>\n\t\t\t</view>\n\t\t</uv-modal>\n\t\t<uv-modal :show=\"game.showResult\" @confirm=\"gameOver()\" title=\"结果\">\n\t\t\t<view>\n\t\t\t\t<div v-if=\"game.result == 1 && game.isUser\">获胜</div>\n\t\t\t\t<div v-if=\"game.result == 2 && game.isUser\">失败</div>\n\t\t\t\t<div v-if=\"game.result == 0 && game.isUser\">平局</div>\n\t\t\t\t<div v-if=\"!game.isUser\">{{ game.resultStr }}</div>\n\t\t\t</view>\n\t\t</uv-modal>\n\n\t\t<uv-modal :showCancelButton=\"false\" :showConfirmButton=\"false\" :show=\"showDown\" title=\"取消棋子\">\n\t\t\t<view>\n\t\t\t\t<u-button @click=\"cancelPiece()\">取消</u-button>\n\t\t\t</view>\n\t\t</uv-modal>\n\n\t\t<view class=\"top__view\">\n\t\t\t<xinyi-steps :options=\"stageOptions\" :active=\"stageActive\" arrowRight @change=\"stageChange\"></xinyi-steps>\n\t\t</view>\n\t\t<button\n\t\t\tclass=\"stage-over__btn\"\n\t\t\ttype=\"primary\"\n\t\t\tv-if=\"game.nowRound == 1 && game.isDeplaoy && game.isUser\"\n\t\t\t@click=\"endDeployFunc()\"\n\t\t>\n\t\t\t结束部署\n\t\t</button>\n\n\t\t<view class=\"main__view\" :style=\"cssVars\">\n\t\t\t<view class=\"map__view\">\n\t\t\t\t<vue-draggable-resizable class=\"map\">\n\t\t\t\t\t<img class=\"bg\" src=\"@/static/image/map.jpg\" />\n\t\t\t\t\t<view class=\"bgCell\">\n\t\t\t\t\t\t<view v-for=\"(item, index) in mapList\" :key=\"index\">\n\t\t\t\t\t\t\t<view style=\"display: flex; flex-wrap: nowrap\">\n\t\t\t\t\t\t\t\t<view v-for=\"(h, idx) in item\" class=\"block\" @click=\"showOpView(h)\" :key=\"idx\">\n\t\t\t\t\t\t\t\t\t<view v-if=\"h.status != 20\" class=\"block_border\">\n\t\t\t\t\t\t\t\t\t\t<view style=\"font-size: 4upx\">{{ h.statusDesc }}</view>\n\t\t\t\t\t\t\t\t\t\t<img class=\"chessImage\" v-if=\"h.chessPiecesCover\" :src=\"h.chessPiecesCover\" />\n\t\t\t\t\t\t\t\t\t\t<view style=\"font-size: 4upx\">\n\t\t\t\t\t\t\t\t\t\t\t{{ h.chessPiecesNumber }}\n\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</vue-draggable-resizable>\n\t\t\t</view>\n\t\t</view>\n\t\t<uni-drawer ref=\"showActionDesc\" mode=\"right\" :width=\"400\">\n\t\t\t<view class=\"scroll-view\" style=\"padding-right: 30px\">\n\t\t\t\t<scroll-view class=\"scroll-view-box\" scroll-y=\"true\" style=\"height: 80vh\">\n\t\t\t\t\t<uni-card v-for=\"(item, index) in game.actionDescList\" :key=\"index\">\n\t\t\t\t\t\t<view @click=\"cjResult(index)\" v-html=\"item\"></view>\n\t\t\t\t\t</uni-card>\n\t\t\t\t</scroll-view>\n\t\t\t</view>\n\t\t</uni-drawer>\n\t\t<uni-drawer ref=\"showRealTimeScore\" mode=\"right\" :width=\"400\">\n\t\t\t<view class=\"scroll-view\" style=\"padding-right: 30px\">\n\t\t\t\t<uni-table border>\n\t\t\t\t\t<uni-tr class=\"rowTitle\">\n\t\t\t\t\t\t<uni-td align=\"center\">{{ realTimeScore.firstCampName }}</uni-td>\n\t\t\t\t\t\t<uni-td align=\"center\">阵营</uni-td>\n\t\t\t\t\t\t<uni-td align=\"center\">{{ realTimeScore.secondCampName }}</uni-td>\n\t\t\t\t\t</uni-tr>\n\t\t\t\t\t<uni-tr class=\"rowTitle\">\n\t\t\t\t\t\t<uni-td align=\"center\">{{ realTimeScore.firstScoretype1 }}</uni-td>\n\t\t\t\t\t\t<uni-td align=\"center\">指挥口令规范性</uni-td>\n\t\t\t\t\t\t<uni-td align=\"center\">{{ realTimeScore.secondScoretype1 }}</uni-td>\n\t\t\t\t\t</uni-tr>\n\t\t\t\t\t<uni-tr class=\"rowTitle\">\n\t\t\t\t\t\t<uni-td align=\"center\">{{ realTimeScore.firstScoretype2 }}</uni-td>\n\t\t\t\t\t\t<uni-td align=\"center\">指挥要素完备性</uni-td>\n\t\t\t\t\t\t<uni-td align=\"center\">{{ realTimeScore.secondScoretype2 }}</uni-td>\n\t\t\t\t\t</uni-tr>\n\t\t\t\t\t<uni-tr class=\"rowTitle\">\n\t\t\t\t\t\t<uni-td align=\"center\">{{ realTimeScore.firstScoretype3 }}</uni-td>\n\t\t\t\t\t\t<uni-td align=\"center\">打击效果</uni-td>\n\t\t\t\t\t\t<uni-td align=\"center\">{{ realTimeScore.secondScoretype3 }}</uni-td>\n\t\t\t\t\t</uni-tr>\n\t\t\t\t\t<uni-tr class=\"rowTitle\">\n\t\t\t\t\t\t<uni-td align=\"center\">{{ realTimeScore.firstScoretypeTotal }}</uni-td>\n\t\t\t\t\t\t<uni-td align=\"center\">总分</uni-td>\n\t\t\t\t\t\t<uni-td align=\"center\">{{ realTimeScore.secondScoretypeTotal }}</uni-td>\n\t\t\t\t\t</uni-tr>\n\t\t\t\t</uni-table>\n\t\t\t</view>\n\t\t</uni-drawer>\n\t\t<xinyi-steps :options=\"roundOptions\" :active=\"roundActive\" @change=\"roundChange\"></xinyi-steps>\n\t\t<uni-popup ref=\"popup\">\n\t\t\t<view class=\"dice__veiw\">\n\t\t\t\t<xinyi-dice ref=\"d\"></xinyi-dice>\n\t\t\t\t<xinyi-dice ref=\"d2\"></xinyi-dice>\n\t\t\t</view>\n\t\t</uni-popup>\n\t\t<rule-table ref=\"popupRule\" :dataArray=\"ruleArray\"></rule-table>\n\t\t<blow-effect-table ref=\"blowEffectTable\" :dataArray=\"blowEffectList\"></blow-effect-table>\n\t\t<rule-result ref=\"ruleResult\" :data=\"historyList\"></rule-result>\n\t\t<final-summary\n\t\t\tref=\"finalSummary\"\n\t\t\t:dataArray=\"summaryScoreData\"\n\t\t\t:round=\"chartRound\"\n\t\t\t:campData=\"campList\"\n\t\t></final-summary>\n\t</view>\n</template>\n\n<script>\nimport { queryMapInfo } from '../../api/arbiterMap.js';\nimport {\n\tendDeploy,\n\tgetBlowEffectList,\n\tgetRuleList,\n\tqueryAllChessPiecesInfo,\n\tqueryChessRecordByRound,\n\tqueryGameStatus,\n\tqueryPrompt,\n\tgetRealTimeScore,\n\tgetSummaryScore\n} from '../../api/verdictRecord.js';\nimport VueDraggableResizable from 'vue-draggable-resizable-gorkys';\nimport 'vue-draggable-resizable-gorkys/dist/VueDraggableResizable.css';\n\nexport default {\n\tcomponents: {\n\t\tVueDraggableResizable\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tvalue: 1,\n\t\t\trange: [\n\t\t\t\t{ value: 0, text: '1' },\n\t\t\t\t{ value: 1, text: '2' },\n\t\t\t\t{ value: 2, text: '3' }\n\t\t\t],\n\t\t\tgame: {\n\t\t\t\tstatus: 0,\n\t\t\t\tchessRound: 1,\n\t\t\t\tnowRound: 0,\n\t\t\t\tbaseRound: 1,\n\t\t\t\tuserPiece: '',\n\t\t\t\tisDeplaoy: true,\n\t\t\t\tisOwn: false,\n\t\t\t\tisUser: false,\n\t\t\t\tshowSettlement: false,\n\t\t\t\tsettlement: '',\n\t\t\t\tshowResult: false,\n\t\t\t\tresult: 0,\n\t\t\t\tresultStr: '',\n\t\t\t\tallRound: 0,\n\t\t\t\troundPeriod: '',\n\t\t\t\troundDesc: '',\n\t\t\t\tactionDescList: []\n\t\t\t},\n\t\t\tmap: {},\n\n\t\t\tattackConfirm: false,\n\t\t\tattackNumber: '',\n\t\t\tmoveConfirm: false,\n\t\t\tverdictRecordId: '',\n\t\t\tcampId: '',\n\t\t\tmapLongTmp: 1,\n\t\t\tmapWidthTmp: 1,\n\t\t\tboxWith: 66,\n\t\t\tmapLong: 1,\n\t\t\tmapWidth: 1,\n\t\t\tshowOp: false,\n\t\t\tshowDown: false,\n\t\t\tshowSelPiece: false,\n\t\t\tselCellInfo: '',\n\t\t\ttargetCellInfo: '',\n\t\t\ttmQuery: '',\n\t\t\tisMove: false,\n\t\t\tisAttack: false,\n\t\t\tlegendList: [\n\t\t\t\t{\n\t\t\t\t\tname: '1212'\n\t\t\t\t}\n\t\t\t],\n\t\t\tmapList: [],\n\t\t\tuser: {},\n\t\t\troundOptions: [],\n\t\t\tstageOptions: [\n\t\t\t\t{ title: '直瞄射击阶段' },\n\t\t\t\t{ title: '机动阶段' },\n\t\t\t\t{ title: '解除压制阶段' },\n\t\t\t\t{ title: '间瞄射击阶段' }\n\t\t\t],\n\t\t\troundActive: 0,\n\t\t\tstageActive: 0,\n\t\t\tstageParam: '10,20',\n\t\t\thistoryList: [],\n\t\t\truleArray: [],\n\t\t\tblowEffectList: [],\n\t\t\trealTimeScore: {\n\t\t\t\tfirstCampName: '',\n\t\t\t\tfirstScoretype1: 0,\n\t\t\t\tfirstScoretype2: 0,\n\t\t\t\tfirstScoretype3: 0,\n\t\t\t\tfirstScoretypeTotal: 0,\n\t\t\t\tsecondCampName: '',\n\t\t\t\tsecondScoretype1: 0,\n\t\t\t\tsecondScoretype2: 0,\n\t\t\t\tsecondScoretype3: 0,\n\t\t\t\tsecondScoretypeTotal: 0\n\t\t\t},\n\t\t\tcampList: [],\n\t\t\tchartRound: 0,\n\t\t\tsummaryScoreData: []\n\t\t};\n\t},\n\n\tonLoad(res) {\n\t\tthis.user = uni.getStorageSync('user');\n\t\tsetTimeout(() => {\n\t\t\tthis.arrange();\n\t\t}, 5);\n\t\tthis.verdictRecordId = res.id;\n\t\tthis.campId = res.camp;\n\t\tthis.game.isUser = res.isuser == 'true';\n\t\tthis.queryMapInfoFunc();\n\t\tsetTimeout(() => {\n\t\t\tthis.init();\n\t\t}, 123);\n\t},\n\tcomputed: {\n\t\tcssVars() {\n\t\t\treturn {\n\t\t\t\t'--mapTop': this.map.mapTop + 'px',\n\t\t\t\t'--mapLeft': this.map.mapLeft + 'px',\n\t\t\t\t'--mapWidth': this.map.mapWidth + 'px',\n\t\t\t\t'--mapHeight': this.map.mapHeight + 'px',\n\t\t\t\t'--marginTop': -this.map.mapRadius / 2 + 'px',\n\t\t\t\t'--cellWidth': Math.cos(((2 * Math.PI) / 360) * 30) * this.map.mapRadius * 2 + 'px',\n\t\t\t\t'--cellHeight': this.map.mapRadius * 2 + 'px',\n\t\t\t\t'--chessMapPaddingTop': this.map.mapRadius / 2.5 + 'px',\n\t\t\t\t'--chessMapWidth': Math.cos(((2 * Math.PI) / 360) * 30) * this.map.mapRadius + 'px',\n\t\t\t\t'--chessMapHeight': Math.cos(((2 * Math.PI) / 360) * 30) * this.map.mapRadius + 'px',\n\t\t\t\t'--chessMapMarginLeft': (Math.cos(((2 * Math.PI) / 360) * 30) * this.map.mapRadius) / 2 + 'px'\n\t\t\t};\n\t\t}\n\t},\n\tonReady() {},\n\tmethods: {\n\t\tasync init() {\n\t\t\t//复盘进入页面默认第一回合的第一阶段\n\t\t\t//获取该记录回合数\n\t\t\tlet data = {\n\t\t\t\tid: this.verdictRecordId\n\t\t\t};\n\t\t\tlet res = await queryGameStatus(data);\n\t\t\tlet resultData = res.data.data;\n\t\t\tfor (var key in resultData) {\n\t\t\t\tthis.game[key] = resultData[key];\n\t\t\t}\n\t\t\tthis.game.status = res.data.data.status;\n\t\t\tthis.game.chessRound = res.data.data.chessRound;\n\t\t\tthis.initialRoundOptions(this.game.chessRound);\n\t\t\tthis.queryEachAction();\n\t\t\tthis.formatterCampList();\n\t\t\t// this.getRuleList();\n\t\t},\n\t\tasync getRuleList() {\n\t\t\tlet data = {\n\t\t\t\tverdictType: 10\n\t\t\t};\n\t\t\tlet ruleRes = await getRuleList(data);\n\t\t\tconsole.log('ruleRes: ', ruleRes);\n\t\t\tthis.ruleArray = ruleRes.data.data;\n\t\t\tthis.$refs.popupRule.open();\n\t\t\tlet blowEffectRes = await getBlowEffectList(data);\n\t\t\tthis.blowEffectList = blowEffectRes.data.data;\n\t\t\t// this.$refs.blowEffectTable.open();\n\t\t},\n\n\t\tasync queryEachAction() {\n\t\t\tlet data = {\n\t\t\t\tchessRound: this.roundActive + 1,\n\t\t\t\tid: this.verdictRecordId,\n\t\t\t\ttype: 'record',\n\t\t\t\tstageParam: this.stageParam\n\t\t\t};\n\t\t\t// let res = await queryEachAction(data);\n\t\t\t// console.log('res1111: ', res);\n\t\t\tlet prompt = await queryPrompt(data);\n\t\t\tconsole.log('prompt: ', prompt);\n\t\t\tlet array = prompt.data.data.actionDescList;\n\t\t\tthis.historyList = prompt.data.data.verdictRecordHistoryList;\n\t\t\tfor (let i in this.historyList) {\n\t\t\t\tarray.push(this.historyList[i].actionDesc);\n\t\t\t}\n\t\t\tarray.filter(function (s) {\n\t\t\t\treturn s && s.trim();\n\t\t\t});\n\t\t\tarray.reverse();\n\t\t\t// for (let i in array) {\n\t\t\t// \tarray[i] = array[i].replaceAll(\n\t\t\t// \t\t'裁决结果',\n\t\t\t// \t\t'<a style=\"color:blue\" @click=\"cjResult(' + i + ')\" >裁决结果</a>'\n\t\t\t// \t);\n\t\t\t// \tconsole.log('s: ', array[i]);\n\t\t\t// }\n\t\t\tthis.game.actionDescList = array.reverse();\n\t\t},\n\t\tcjResult(index) {\n\t\t\tif (this.stageActive == 0 || this.stageActive == 3) {\n\t\t\t\tthis.$refs.ruleResult.open();\n\t\t\t}\n\t\t},\n\t\tasync queryChessRecordByRound() {\n\t\t\tlet data = {\n\t\t\t\tverdictRecordId: this.verdictRecordId,\n\t\t\t\tchessRound: this.roundActive + 1,\n\t\t\t\tstageParam: this.stageParam\n\t\t\t};\n\n\t\t\tlet res = await queryChessRecordByRound(data);\n\t\t\tconsole.log('res.data.data: ', res.data.data);\n\t\t\tfor (let itemk of this.mapList) {\n\t\t\t\tfor (let h of itemk) {\n\t\t\t\t\th.chessPiecesNumber = '';\n\t\t\t\t\th.chessPiecesName = '';\n\t\t\t\t\th.chessPiecesCover = '';\n\t\t\t\t\th.chessPiecesCampId = '';\n\t\t\t\t\th.statusDesc = '';\n\t\t\t\t\th.status = 10;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor (let item of res.data.data) {\n\t\t\t\titem.isAdd = false;\n\t\t\t\titem.canMove = true;\n\t\t\t\titem.isDie = false;\n\t\t\t\tfor (let itemk of this.mapList)\n\t\t\t\t\tfor (let h of itemk) {\n\t\t\t\t\t\tif (h.coordinate == item.targetCoordinate) {\n\t\t\t\t\t\t\tlet jsonArray = JSON.parse(item.chessPiecesInfo);\n\t\t\t\t\t\t\tlet sItem = {};\n\t\t\t\t\t\t\tfor (let i in jsonArray) {\n\t\t\t\t\t\t\t\tif (jsonArray[i].chessPiecesNumber == item.chessPiecesNumber) {\n\t\t\t\t\t\t\t\t\tsItem = jsonArray[i];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\th.chessPiecesNumber = item.chessPiecesNumber;\n\t\t\t\t\t\t\th.chessPiecesName = item.chessPiecesName;\n\t\t\t\t\t\t\th.chessPiecesCover = item.chessPiecesCover;\n\t\t\t\t\t\t\th.chessPiecesCampId = item.campId;\n\t\t\t\t\t\t\th.chessPiecesTypeName = item.chessPiecesTypeName;\n\t\t\t\t\t\t\th.statusDesc = sItem.statusDesc;\n\t\t\t\t\t\t\th.isAction = item.isAction;\n\t\t\t\t\t\t\th.status = item.status;\n\t\t\t\t\t\t\titem.isAdd = true;\n\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tinitialRoundOptions(round) {\n\t\t\tthis.roundOptions = [];\n\t\t\tfor (let i = 0; i <= round - 1; i++) {\n\t\t\t\tthis.roundOptions.push({ title: '回合' + Number(i + 1) });\n\t\t\t}\n\t\t},\n\t\tstageChange(index) {\n\t\t\tconsole.log('index: ', index);\n\t\t\tif (this.stageActive != index) {\n\t\t\t\tthis.stageActive = index;\n\t\t\t\tthis.formateStageParam();\n\t\t\t\tthis.queryEachAction();\n\t\t\t\tthis.queryChessRecordByRound();\n\t\t\t}\n\t\t},\n\t\troundChange(index) {\n\t\t\tconsole.log('index: ', index);\n\t\t\tif (this.roundActive != index) {\n\t\t\t\tthis.roundActive = index;\n\t\t\t\tthis.queryEachAction();\n\t\t\t\tthis.queryChessRecordByRound();\n\t\t\t}\n\t\t},\n\t\tformateStageParam() {\n\t\t\tif (this.stageActive == 0) {\n\t\t\t\tthis.stageParam = '10,20';\n\t\t\t} else if (this.stageActive == 1) {\n\t\t\t\tthis.stageParam = '30,40';\n\t\t\t} else if (this.stageActive == 2) {\n\t\t\t\tthis.stageParam = '50';\n\t\t\t} else if (this.stageActive == 3) {\n\t\t\t\tthis.stageParam = '60,70';\n\t\t\t}\n\t\t},\n\t\tdice() {\n\t\t\tthis.$refs.popup.open();\n\t\t\tthis.$nextTick(() => {\n\t\t\t\tthis.$refs.d.throwDice();\n\t\t\t\tthis.$refs.d2.throwDice();\n\t\t\t});\n\t\t},\n\t\tshowOpView(val) {\n\t\t\tconsole.log('val: ', val);\n\t\t\tif (!this.game.isUser) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (this.game.nowRound == 1) {\n\t\t\t\tthis.selCellInfo = val;\n\t\t\t\tif (val.chessPiecesNumber) {\n\t\t\t\t\tthis.showDown = true;\n\t\t\t\t} else {\n\t\t\t\t\tthis.showSelPiece = true;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (this.game.isOwn) {\n\t\t\t\t\tif (\n\t\t\t\t\t\tval.chessPiecesNumber &&\n\t\t\t\t\t\tval.chessPiecesCampId == this.campId &&\n\t\t\t\t\t\t!val.isAction &&\n\t\t\t\t\t\tval.status == 10\n\t\t\t\t\t) {\n\t\t\t\t\t\tthis.showOp = true;\n\t\t\t\t\t\tthis.selCellInfo = val;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (this.isAttack && val.chessPiecesNumber && val.status != 20) {\n\t\t\t\t\t\t\tthis.targetCellInfo = val;\n\t\t\t\t\t\t\tthis.attackNumber = val.chessPiecesNumber;\n\t\t\t\t\t\t\tthis.attackConfirm = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (this.isMove) {\n\t\t\t\t\t\t\tthis.targetCellInfo = val;\n\t\t\t\t\t\t\tthis.moveConfirm = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tasync queryMapInfoFunc() {\n\t\t\tlet data = {\n\t\t\t\tid: this.verdictRecordId\n\t\t\t};\n\t\t\tqueryMapInfo(data).then((res) => {\n\t\t\t\tthis.map = res.data.data;\n\t\t\t\tconsole.log('this.map.maps: ', this.map);\n\t\t\t\tlet RoundList = [\n\t\t\t\t\t{\n\t\t\t\t\t\tactionList: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tpieceList: [],\n\t\t\t\t\t\t\t\ttips: ''\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t],\n\t\t\t\t\t\ttips: ''\n\t\t\t\t\t}\n\t\t\t\t];\n\t\t\t\tthis.gen();\n\t\t\t});\n\t\t},\n\t\tgen() {\n\t\t\tthis.mapLong = this.map.longitudinalDimension;\n\t\t\tthis.mapWidth = this.map.transverseDimension;\n\n\t\t\tthis.mapList = [];\n\t\t\tfor (let i = 0; i < this.mapLong; i++) {\n\t\t\t\tthis.mapList.push([]);\n\t\t\t\tfor (let j = 0; j < this.mapWidth; j++) {\n\t\t\t\t\tlet data = {\n\t\t\t\t\t\tcoordinate:\n\t\t\t\t\t\t\t(this.mapLong - i).toString().padStart(2, '0') + (j + 1).toString().padStart(2, '0'),\n\t\t\t\t\t\tchessPiecesNumber: '',\n\t\t\t\t\t\tchessPiecesName: '',\n\t\t\t\t\t\tchessPiecesCover: ''\n\t\t\t\t\t};\n\t\t\t\t\tthis.mapList[i].push(data);\n\t\t\t\t}\n\t\t\t}\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.arrange();\n\t\t\t\tthis.queryChessRecordByRound();\n\t\t\t}, 5);\n\t\t},\n\t\tarrange() {\n\t\t\tlet offsetTop = 0;\n\t\t\tlet lineIndex = 0;\n\t\t\tdocument.querySelectorAll('.block').forEach((item) => {\n\t\t\t\titem.style.marginLeft = '0px';\n\t\t\t\tif (offsetTop !== item.offsetTop) {\n\t\t\t\t\t++lineIndex;\n\t\t\t\t\tif (lineIndex % 2 === 0) {\n\t\t\t\t\t\titem.style.marginLeft = Math.cos(((2 * Math.PI) / 360) * 30) * this.map.mapRadius + 'px';\n\t\t\t\t\t\t// parseInt(this.width) * 0.5 + parseInt(this.marginLeftRight) * 0.5 + 0 + 'px';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\toffsetTop = item.offsetTop;\n\t\t\t});\n\t\t},\n\n\t\tasync queryUsChessPiecesInfoFunc() {\n\t\t\tlet data = {\n\t\t\t\tverdictRecordId: this.verdictRecordId,\n\t\t\t\tchessRound: this.game.chessRound\n\t\t\t};\n\t\t\tlet res = '';\n\t\t\tif (this.game.isUser) {\n\t\t\t\tdata.campId = this.campId;\n\t\t\t\tres = await queryAllChessPiecesInfo(data);\n\t\t\t} else {\n\t\t\t\tres = await queryAllChessPiecesInfo(data);\n\t\t\t}\n\n\t\t\tfor (let itemk of this.mapList)\n\t\t\t\tfor (let h of itemk) {\n\t\t\t\t\th.chessPiecesNumber = '';\n\t\t\t\t\th.chessPiecesName = '';\n\t\t\t\t\th.chessPiecesCover = '';\n\t\t\t\t\th.chessPiecesCampId = '';\n\t\t\t\t\th.statusDesc = '';\n\t\t\t\t\th.status = 10;\n\t\t\t\t}\n\t\t\tthis.game.userPiece = [];\n\t\t\tfor (let item of res.data.data) {\n\t\t\t\titem.isAdd = false;\n\t\t\t\titem.canMove = true;\n\t\t\t\titem.isDie = false;\n\t\t\t\tthis.game.userPiece.push(item);\n\t\t\t\tfor (let itemk of this.mapList)\n\t\t\t\t\tfor (let h of itemk) {\n\t\t\t\t\t\tif (h.coordinate == item.coordinate) {\n\t\t\t\t\t\t\th.chessPiecesNumber = item.chessPiecesNumber;\n\t\t\t\t\t\t\th.chessPiecesName = item.chessPiecesName;\n\t\t\t\t\t\t\th.chessPiecesCover = item.chessPiecesCover;\n\t\t\t\t\t\t\th.chessPiecesCampId = item.chessPiecesCampId;\n\t\t\t\t\t\t\th.chessPiecesTypeName = item.chessPiecesTypeName;\n\t\t\t\t\t\t\th.statusDesc = item.statusDesc;\n\t\t\t\t\t\t\th.isAction = item.isAction;\n\t\t\t\t\t\t\th.status = item.status;\n\t\t\t\t\t\t\titem.isAdd = true;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t}\n\t\t\tconsole.log('maplist===', this.mapList);\n\t\t},\n\t\tendDeployFunc() {\n\t\t\tlet data = {\n\t\t\t\tverdictRecordId: this.verdictRecordId,\n\t\t\t\tuserId: this.user.id\n\t\t\t};\n\t\t\tendDeploy(data);\n\t\t\tthis.game.isDeplaoy = false;\n\t\t},\n\t\tasync getRealTimeScore() {\n\t\t\tlet queryScoreData = {\n\t\t\t\tverdictRecordId: this.verdictRecordId\n\t\t\t};\n\t\t\tlet scoreListResult = await getRealTimeScore(queryScoreData);\n\t\t\tlet realTimeScoreList = scoreListResult.data.data;\n\t\t\tconsole.log('realTimeScoreList: ', realTimeScoreList);\n\t\t\tthis.realTimeScore.firstScoretypeTotal = 0;\n\t\t\tthis.realTimeScore.secondScoretypeTotal = 0;\n\t\t\tthis.realTimeScore.firstCampName = this.campList[0].campName;\n\t\t\tthis.realTimeScore.secondCampName = this.campList[1].campName;\n\t\t\tfor (var i in realTimeScoreList) {\n\t\t\t\tif (this.campList[0].campId == realTimeScoreList[i].campId) {\n\t\t\t\t\tif (realTimeScoreList[i].type == 1) {\n\t\t\t\t\t\tthis.realTimeScore.firstScoretype1 = realTimeScoreList[i].score;\n\t\t\t\t\t} else if (realTimeScoreList[i].type == 2) {\n\t\t\t\t\t\tthis.realTimeScore.firstScoretype2 = realTimeScoreList[i].score;\n\t\t\t\t\t} else if (realTimeScoreList[i].type == 3) {\n\t\t\t\t\t\tthis.realTimeScore.firstScoretype3 = realTimeScoreList[i].score;\n\t\t\t\t\t}\n\t\t\t\t\tthis.realTimeScore.firstScoretypeTotal += realTimeScoreList[i].score;\n\t\t\t\t} else {\n\t\t\t\t\tif (realTimeScoreList[i].type == 1) {\n\t\t\t\t\t\tthis.realTimeScore.secondScoretype1 = realTimeScoreList[i].score;\n\t\t\t\t\t} else if (realTimeScoreList[i].type == 2) {\n\t\t\t\t\t\tthis.realTimeScore.secondScoretype2 = realTimeScoreList[i].score;\n\t\t\t\t\t} else if (realTimeScoreList[i].type == 3) {\n\t\t\t\t\t\tthis.realTimeScore.secondScoretype3 = realTimeScoreList[i].score;\n\t\t\t\t\t}\n\t\t\t\t\tthis.realTimeScore.secondScoretypeTotal += realTimeScoreList[i].score;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.$refs.showRealTimeScore.open();\n\t\t},\n\t\tformatterCampList() {\n\t\t\tthis.campList = [];\n\t\t\tlet dataFirst = {\n\t\t\t\tcampId: this.game.firstCampId,\n\t\t\t\tcampName: this.game.firstCampName,\n\t\t\t\tuserId: this.game.firstUserId,\n\t\t\t\tuserName: this.game.firstUserName,\n\t\t\t\tverdictRecordId: this.verdictRecordId\n\t\t\t};\n\t\t\tthis.campList.push(dataFirst);\n\t\t\tlet dataSecond = {\n\t\t\t\tcampId: this.game.secondCampId,\n\t\t\t\tcampName: this.game.secondCampName,\n\t\t\t\tuserId: this.game.secondUserId,\n\t\t\t\tuserName: this.game.secondUserName,\n\t\t\t\tverdictRecordId: this.verdictRecordId\n\t\t\t};\n\t\t\tconsole.log('dataSecond: ', dataSecond);\n\t\t\tthis.campList.push(dataSecond);\n\t\t},\n\t\tasync getFinalSummary() {\n\t\t\tlet queryScoreData = {\n\t\t\t\tverdictRecordId: this.verdictRecordId\n\t\t\t};\n\t\t\tlet res = await getSummaryScore(queryScoreData);\n\t\t\tthis.chartRound = this.chessRoundLimit;\n\t\t\tconsole.log('res: ', res);\n\t\t\tthis.summaryScoreData = res.data.data;\n\t\t\tthis.$refs.finalSummary.open();\n\t\t}\n\t}\n};\n</script>\n\n<style lang=\"scss\">\n.top__view {\n\tdisplay: flex;\n\twidth: 96vw;\n\theight: 10vh;\n\t.dice-toolbar__veiw {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\twidth: 200rpx;\n\t\tmargin-left: 10rpx;\n\t\tbutton {\n\t\t\tmargin-left: 10rpx;\n\t\t}\n\t}\n}\n.foot-view {\n\twidth: 96vw;\n\theight: 10vh;\n\tline-height: 10vh;\n\talign-items: center;\n\t// margin-top: 20px;\n}\n.stage-over__btn {\n\twidth: 740rpx;\n}\n\n.main__view {\n\theight: 80vh;\n\tz-index: 990;\n}\n\n.dice__veiw {\n\tdisplay: flex;\n}\n.map__view {\n\tbackground-color: #fff;\n\twidth: 100vw;\n\theight: 80vh;\n\t// margin: 2vh 0 2vh 0;\n\toverflow: scroll;\n\tdisplay: inline-block;\n}\n\n.bg {\n\tposition: absolute;\n\twidth: var(--mapWidth);\n\theight: var(--mapHeight);\n\tmargin-top: var(--marginTop);\n}\n\n.bgCell {\n\tposition: absolute;\n\ttop: var(--mapTop);\n\tleft: var(--mapLeft);\n}\n\n.map {\n\tposition: relative;\n}\n\n.block {\n\twidth: var(--cellWidth);\n\theight: var(--cellHeight);\n\tmargin-right: 0px;\n\tmargin-top: var(--marginTop);\n\tclip-path: polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%);\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tbackground-color: rgba(85, 255, 255, 0);\n\tflex-shrink: 0;\n\t// border: #10292f solid 1px;\n\t// background-color: #fefefe;\n\t// opacity: 0.5;\n\n\t.block_border {\n\t\tposition: relative;\n\t\twidth: var(--cellWidth);\n\t\theight: var(--cellHeight);\n\t\t// line-height: var(--cellHeight);\n\t\tbackground: rgba(0, 0, 0, 0);\n\t\tclip-path: polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%);\n\t\tdisplay: table-cell;\n\t\ttext-align: center;\n\t\tborder: #10292f solid 1px;\n\t\t// padding-top: var(--chessMapPaddingTop);\n\t}\n\n\t.statusDesc {\n\t\tmargin-top: var(--chessMapPaddingTop);\n\t}\n\n\t.chessImage {\n\t\twidth: var(--chessMapWidth);\n\t\theight: var(--chessMapHeight);\n\t\t// margin-left: var(--chessMapMarginLeft);\n\t}\n}\n\n.newcontextmenu {\n\tposition: absolute;\n\twidth: 100px;\n\tborder-radius: 10px;\n\tz-index: 1000;\n\n\t// .score-btn-view {\n\t// \ttext-align: center;\n\t// \tbackground-color: #10292f;\n\t// \twidth: 100%;\n\t// \tpadding: 10px 10px 10px 10px;\n\t// \tcursor: pointer;\n\t// }\n\n\t// .score-btn-view:last-child {\n\t// \tborder-top: #fff solid 1px;\n\t// \tborder-bottom-left-radius: 10px;\n\t// \tborder-bottom-right-radius: 10px;\n\t// }\n}\n\n.score-btn-view {\n\ttext-align: center;\n\tbackground-color: #10292f;\n\twidth: 100%;\n\tpadding: 10px 10px 10px 10px;\n\tcursor: pointer;\n}\n\n.close-score-btn-view {\n\tposition: relative;\n}\n.close-score-btn-view::after {\n\tcontent: 'x';\n\tposition: absolute;\n\ttop: -10px;\n\tright: -25px;\n\twidth: 20px;\n\theight: 20px;\n\tborder-radius: 50%;\n\tbackground-color: #10292f;\n\tcolor: white;\n\ttext-align: center;\n\tline-height: 20px;\n\tcursor: pointer;\n}\n\n.rightBtn {\n\tposition: fixed;\n\ttop: 200px;\n\tright: 20px;\n\tz-index: 999;\n\ttext-align: center;\n\n\t.btnView {\n\t\twriting-mode: vertical-rl;\n\t\tbackground-color: #2979ff;\n\t\tcolor: #ffffff;\n\t\ttext-align: center;\n\t\tmargin-top: 2px;\n\t\talign-items: center;\n\t\tpadding: 10px 5px 10px 5px;\n\t}\n}\n</style>\n","import mod from \"-!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1730963221309\n      var cssReload = require(\"D:/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}