{"version":3,"sources":["uni-app:///main.js","webpack:///D:/chess/code/new-wargame-uniapp/pages/wargame/index.vue?d172","webpack:///D:/chess/code/new-wargame-uniapp/pages/wargame/index.vue?0ade","webpack:///D:/chess/code/new-wargame-uniapp/pages/wargame/index.vue?f03f","webpack:///D:/chess/code/new-wargame-uniapp/pages/wargame/index.vue?2406","uni-app:///pages/wargame/index.vue","webpack:///D:/chess/code/new-wargame-uniapp/pages/wargame/index.vue?eae9","webpack:///D:/chess/code/new-wargame-uniapp/pages/wargame/index.vue?c59d"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","components","VueDraggableResizable","data","diceCount","diceCountList","value","text","game","status","chessRound","nowRound","baseRound","userPiece","isDeplaoy","isOwn","isUser","showSettlement","settlement","showResult","result","resultStr","allRound","roundPeriod","roundDesc","actionDescList","map","attackConfirm","attackNumber","moveConfirm","verdictRecordId","campId","mapLongTmp","mapWidthTmp","boxWith","mapLong","mapWidth","showOp","showDown","showSelPiece","selCellInfo","targetCellInfo","tmQuery","isMove","isAttack","mapList","user","roundOptions","stageOptions","title","roundActive","stageActive","isAdmin","historyList","ruleArray","blowEffectList","verdictRule","diceValue","showScoreButtonInfo","visible","top","left","showChessButtonInfo","campList","campListItem","scoreTableHistory","scoreList","realTimeScore","firstCampName","firstScoretype1","firstScoretype2","firstScoretype3","firstScoretypeTotal","secondCampName","secondScoretype1","secondScoretype2","secondScoretype3","secondScoretypeTotal","summaryDataArray","finalData","finalScoreList","summaryScoreData","chessRoundLimit","chartRound","selectIndex","selectTargetIndex","roundStatusList","statusDesc","roundEnd","userStageNotSubmit","avatarText","statusIndex","judgeTableShowInfo","onLoad","setTimeout","computed","cssVars","methods","onMessage","uni","getJudgeTable","type","roundPeriodName","getJudgeResult","console","judge","res","resultData","JSON","action","testAsync","that","sleep","judgeShow","i","verdictType","ruleRes","blowEffectRes","getRuleListAsync","resolve","getRuleList","getRoundStatus","formatterStatusDesc","n","getRealTimeScore","queryScoreData","scoreListResult","realTimeScoreList","getFinalSummary","ruleTableMaskClick","blowEffectMaskClick","scoreBtnClose","scoreTableShow","item","submitScore","icon","duration","getTableScoreFinal","typeString","submitScoreFinal","refresh","getBlowEffectList","cjResult","shakeDice","initChessRound","id","initialRoundOptions","showOpView","val","chessClick","queryMapInfoFunc","gen","coordinate","chessPiecesNumber","chessPiecesName","chessPiecesCover","arrange","document","offsetTop","queryAllFunc","rst","userId","queryChessRoundFunc","formatterCampList","campName","userName","isOwnRoundFunc","queryUsChessPiecesInfoFunc","itemk","h","cancelPiece","endDeployFunc","attackPoint","movePoint","attack","move","hide","chessPiecesActionFunc","actionMode","selfCoordinate","targetCoordinate","targetChessPiecesNumber","isHide","queryPromptFunc","prompt","array","checkCanAttack","gameOver","selPiece","deployChessPiecesFunc","endRoundFunc"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,cAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAA8H;AAC9H;AACyD;AACL;AACsC;;;AAG1F;AACgL;AAChL,gBAAgB,uLAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,4FAAM;AACR,EAAE,qGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,gGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,oSAEN;AACP,KAAK;AACL;AACA,aAAa,6SAEN;AACP,KAAK;AACL;AACA,aAAa,6SAEN;AACP,KAAK;AACL;AACA,aAAa,kRAEN;AACP,KAAK;AACL;AACA,aAAa,sTAEN;AACP,KAAK;AACL;AACA,aAAa,yQAEN;AACP,KAAK;AACL;AACA,aAAa,uPAEN;AACP,KAAK;AACL;AACA,aAAa,gQAEN;AACP,KAAK;AACL;AACA,aAAa,8OAEN;AACP,KAAK;AACL;AACA,aAAa,8OAEN;AACP,KAAK;AACL;AACA,aAAa,oSAEN;AACP,KAAK;AACL;AACA,aAAa,gQAEN;AACP,KAAK;AACL;AACA,aAAa,+TAEN;AACP,KAAK;AACL;AACA,aAAa,yQAEN;AACP,KAAK;AACL;AACA,aAAa,wUAEN;AACP,KAAK;AACL;AACA,aAAa,kRAEN;AACP,KAAK;AACL;AACA,aAAa,kRAEN;AACP,KAAK;AACL;AACA,aAAa,wUAEN;AACP,KAAK;AACL;AACA,aAAa,wUAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,mBAAO,CAAC,iCAAwB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACvJA;AAAA;AAAA;AAAA;AAAmqB,CAAgB,iqBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;AC8QvrB;AACA;AAEA;AACA;AAuBA;AAAA;AAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA,eACA;EACAC;IACAC;EACA;EACAC;IACA;MACAC;MACAC,gBACA;QAAAC;QAAAC;MAAA,GACA;QAAAD;QAAAC;MAAA,EACA;MACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;MACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC,eACA;QAAAC;MAAA,GACA;QAAAA;MAAA,GACA;QAAAA;MAAA,GACA;QAAAA;MAAA,EACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;QACAC;QACAC;QACAC;MACA;MACAC;QACAH;QACAC;QACAC;MACA;MACAE;MACAC;MACAhD;MACAiD;MACAC;MACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;MACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EAEAC;IAAA;IACA;IACA;IACAC;MACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACAA;MACA;IACA;EACA;EACAC;IACAC;MACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;MACA;IACA;EACA;EACAC;IACA;IACAC;MAAA;MACAC;QACA;QACA;QACA;UACA;YACA;YACA;YACA;YACA;UACA;YACA;YACA;UACA;YACA;UACA;YACA;YACA;UACA;YACA;YACA;YACA;UACA;YACA;YACA;YACA;YACA;UACA;YACA;YACA;UACA;YACA;QAAA;MAEA;IACA;IACAC;MACA;QACAC;QACAvE;QACApB;QACAa;QACA+E;QACAvE;MACA;MACA;IACA;IAEAwE;MACA;MACAC;MACA;QACAH;QACAvE;QACA;QACA;QACAC;MACA;MACA;IACA;IACA0E;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACAtG;kBACA2B;kBACApB;kBACAa;gBACA;gBAAA;gBAAA,OACA;cAAA;gBAAAmF;gBACAC;gBACAH;gBACA;kBACA,wBACAI;oBACAC;oBACA/E;oBACA3B;kBACA,GACA;gBACA;kBACA,wBACAyG;oBACAC;oBACA/E;kBACA,GACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACAgF;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACAC,eACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACAC;MACA;QAAA;MAAA;IACA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACAF;gBACAG;cAAA;gBAAA;kBAAA;kBAAA;gBAAA;gBACAV;gBACArG;kBACAgH;gBACA;gBAAA;gBAAA,OACA;cAAA;gBAAAC;gBACAL;gBACAP;gBACAO;gBAAA;gBAAA,OACAA;cAAA;gBACAP;gBACAO;gBAAA;gBAAA,OACAA;cAAA;gBACAA;gBAAA;gBAAA,OACAA;cAAA;gBACAA;gBAAA;gBAAA,OACAA;cAAA;gBAAA;gBAAA,OACA;cAAA;gBAAAM;gBACA;gBACAb;gBACA;gBAAA;gBAAA,OACAO;cAAA;gBACAP;gBACAO;cAAA;gBAvBAG;gBAAA;gBAAA;cAAA;gBAyBA,wBACAN;kBACAC;kBACA/E;gBACA,GACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACAwF;MACA;QACA;UAAAH;QAAA;UACAI;QACA;MACA;IACA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACArH;kBACAgH;gBACA;gBAAA;gBAAA,OACA;cAAA;gBAAAC;gBACA;gBACAZ;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IAEAiB;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACAtH;kBACA2B;kBACApB;kBACAa;gBACA;gBACA;gBAAA;gBAAA,OACA;cAAA;gBAAAH;gBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACAsG;MACA;QACA;QACA;UACA;YACAC;UACA;QACA;QACA;UACA;UACA;QACA;UACA;UACA;QACA;UACA;UACA;QACA;MACA;QACA;QACA;UACA;YACAA;UACA;QACA;QACA;UACA;UACA;QACA;UACA;UACA;QACA;MACA;MACA;MACAnB;IACA;IACAoB;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACAC;kBACA/F;gBACA;gBAAA;gBAAA,OACA;cAAA;gBAAAgG;gBACAC;gBACAvB;gBACA;gBACA;gBACA;gBACA;gBACA;kBACA;oBACA;sBACA;oBACA;sBACA;oBACA;sBACA;oBACA;oBACA;kBACA;oBACA;sBACA;oBACA;sBACA;oBACA;sBACA;oBACA;oBACA;kBACA;gBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACAwB;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACAH;kBACA/F;gBACA;gBAAA;gBAAA,OACA;cAAA;gBAAA4E;gBACA;gBACAF;gBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACAyB;MACA,wBACArB;QACAC;QACA/E;QACA3B;MACA,GACA;IACA;IACA+H;MACA,wBACAtB;QACAC;QACA/E;QACA3B;MACA,GACA;IACA;IACAgI;MACA;IACA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACAC;gBACA;gBACA;gBACAR;kBACA/F;kBACAC;kBACArB;gBACA;gBAAA;gBAAA,OACA;cAAA;gBAAAoH;gBACA;gBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACAQ;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACA;kBACApE;kBACAA;kBACAA;kBACAA;kBACAA;kBACAA;gBACA;gBAAA;gBAAA,OACA;cAAA;gBAAAwC;gBACA;kBACAP;oBACAlD;oBACAsF;oBACAC;kBACA;kBACA;kBACA;gBACA;kBACArC;oBACAlD;oBACAsF;oBACAC;kBACA;gBACA;gBACAhC;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACAiC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACA;gBACA;gBACAZ;kBACA/F;kBACA4G;gBACA;gBAAA;gBAAA,OACA;cAAA;gBAAAZ;gBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACAa;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACA;cAAA;gBAAAjC;gBACA;kBACAP;oBACAlD;oBACAsF;oBACAC;kBACA;kBACA;gBACA;kBACArC;oBACAlD;oBACAsF;oBACAC;kBACA;gBACA;gBACAhC;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IAEAoC;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACA;cAAA;gBAAA;gBAAA,OACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACA1I;kBACAgH;gBACA;gBAAA;gBAAA,OACA;cAAA;gBAAAE;gBACA;gBACAb;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACAsC;MACA;QACA;MACA;IACA;IACAC;MAAA;MACAvC;MACA;MACA;QACA;UACA;QACA;MACA;IACA;IACAwC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACA7I;kBACA8I;gBACA;gBAAA;gBAAA,OACA;cAAA;gBAAAvC;gBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACAwC;MACA;QAAAjG;MAAA;MACA;QACA;UAAAA;QAAA;MACA;IACA;IACAkG;MACA;MACA;QACA;MACA;MAEA;QACA;QACA;UACA;QACA;UACA;QACA;MACA;QACA;QACA,IACAC,yBACAA,wCACA,iBACAA,kBACA;UACA;UACA;UACA;UACA;UACA;UACA;QACA;UACA;YACA;YACA;YACA;UACA;UACA;YACA;YACA;UACA;UACA;UACA;UACA;QACA;QACA;MACA;IACA;IACAC;MAAA;MACAvD;QACA;QACA;QACA;QACA;QACA;MACA;IACA;IACAwD;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACAnJ;kBACA8I;gBACA;gBACA;kBACA;kBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACAM;MAAA;MACA;MACA;MAEA;MACA;QACA;QACA;UACA;YACAC,YACA;YACAC;YACAC;YACAC;UACA;UACA;QACA;MACA;MACA7D;QACA;MACA;IACA;IACA8D;MACA;MACA;MACAC;QACAxB;QACA;UACA;UACA;YACAA;YACA;UACA;QACA;;QACAyB;MACA;IACA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACA5J;kBACA8I;gBACA;gBAAA;gBAAA,OACA;cAAA;gBAAAe;gBACArD;gBACA;kBACA;gBACA;gBACA;gBACA;kBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;kBACA;gBACA;kBACA;gBACA;gBACA;kBACAvF;kBACA;kBACA;oBACA;oBACA;kBACA;oBACA;sBACA;oBACA;sBACA;oBACA;oBACA;kBACA;oBACA;sBACA;oBACA;sBACA;oBACA;oBACA;kBACA;kBACA;oBACA;oBACA;kBACA;oBACA;kBACA;kBACA;kBACA;gBACA;;gBAEA;kBACA;kBACA;kBACAjB;oBACAO;oBACAuJ;oBACAnI;kBACA;kBACA;oBACA;oBACA;oBACA;kBACA;gBACA;gBACA;gBACA;gBACA;;gBAEA;gBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACAoI;MACA;QACA;QACA;MACA;MACA;QACA;QACA;MACA;MACA;QACA;QACA;MACA;MACA;QACA;QACA;MACA;MACA;IACA;IACAC;MACA;MACA;QACApI;QACAqI;QACAH;QACAI;QACAvI;MACA;MACA;MACA;QACAC;QACAqI;QACAH;QACAI;QACAvI;MACA;MACA;MACA;QACA;MACA;QACA;MACA;QACA;MACA;MACA0E;MACAA;MACAA;IACA;IACA8D;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACAnK;kBACA8I;kBACAgB;gBACA;gBAAA;gBAAA,OACA;cAAA;gBAAAvD;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACA6D;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACApK;kBACA2B;kBACApB;kBACAa;gBACA;gBACAmF;gBAAA,KACA;kBAAA;kBAAA;gBAAA;gBACAvG;gBAAA;gBAAA,OACA;cAAA;gBAAAuG;gBAAA;gBAAA;cAAA;gBAAA;gBAAA,OAEA;cAAA;gBAAAA;cAAA;gBAAA,uCAEA;gBAAA;kBAAA,oDACA;oBADA8D;oBAAA,wCACAA;oBAAA;sBAAA;wBAAAC;wBACAA;wBACAA;wBACAA;wBACAA;wBACAA;wBACAA;sBACA;oBAAA;sBAAA;oBAAA;sBAAA;oBAAA;kBAAA;gBAAA;kBAAA;gBAAA;kBAAA;gBAAA;gBACA;gBAAA,wCACA/D;gBAAA;gBAAA;cAAA;gBAAA;kBAAA;kBAAA;gBAAA;gBAAA2B;gBACAA;gBACAA;gBACAA;gBACA;gBAAA,wCACA;gBAAA;gBAAA;cAAA;gBAAA;kBAAA;kBAAA;gBAAA;gBAAAmC;gBAAA,wCACAA;gBAAA;gBAAA;cAAA;gBAAA;kBAAA;kBAAA;gBAAA;gBAAAC;gBAAA,MACAA;kBAAA;kBAAA;gBAAA;gBACAA;gBACAA;gBACAA;gBACAA;gBACAA;gBACAA;gBACAA;gBACAA;gBACApC;gBAAA;cAAA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAAA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAKA;IACAqC;MACA;MACA;MACA;MACA;MACA;MACA;MAAA,4CACA;QAAA;MAAA;QAAA;UAAA;UACA;YACArC;UACA;QACA;MAAA;QAAA;MAAA;QAAA;MAAA;IACA;IAEAsC;MAAA;MACA;QACA7I;QACAmI;MACA;MACA;QACA;UACA,wBACArD;YACAC;YACA/E;UACA,GACA;QACA;MACA;MACA;IACA;IACA8I;MACA;MACA;MACA;MACA;MACA;IACA;IACAC;MACA;MACA;MACA;MACA;MACA;IACA;IACAC;MACA;MACA;MACA;IACA;IACAC;MACA;MACA;MACA;IACA;IACAC;MACA;MACA;MACA;MACA;IACA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACA9K;kBACA+K;kBACAnJ;kBACA0H;kBACA0B;kBACAC;kBACAnB;kBACAnI;kBACAuJ;kBACA3K;kBACAa;gBACA;gBACA+J;;gBAEA;gBAAA;gBAAA,OACA;cAAA;gBACA;kBACA;kBACA,wBACA1E;oBACAC;oBACA/E;kBACA,GACA;gBACA;;gBAEA;gBACA;gBACA;gBACA;gBACA;gBACA;gBAAA;gBAAA,OACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IAEAyJ;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACApL;kBACA;kBACA8I;kBACA;gBACA;;gBAEA9I;gBAAA;gBAAA,OACA;cAAA;gBAAAqL;gBACA;gBACAC;gBACA;gBACA;kBACAA;gBACA;gBACAA;kBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACAC;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;QACA;MACA;QACA;MACA;IACA;IACAC;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IACA;IACAC;MACA;MACA;MACA;MACA;MACA;MACAxC;MACA;IACA;IAEAyC;MACA;QACAX;QACAnJ;QACA0H;QACA0B;QACAC;QACAnB;QACAnI;MACA;MACA;QACA3B;QACAA;MACA;QACAA;QACAA;MACA;MACA;IACA;IACA2L;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACA3L;kBACA8I;kBACAgB;kBACAvJ;kBACAa;gBACA;gBAAA;gBAAA,OACA;cAAA;gBACA,wBACAqF;kBACAC;kBACA/E;gBACA,GACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;ACvwCA;AAAA;AAAA;AAAA;AAA0xC,CAAgB,gtCAAG,EAAC,C;;;;;;;;;;;ACA9yC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/wargame/index.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/wargame/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=5c8a2998&scoped=true&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=5c8a2998&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5c8a2998\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/wargame/index.vue\"\nexport default component.exports","export * from \"-!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=5c8a2998&scoped=true&\"","var components\ntry {\n  components = {\n    uvText: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uv-text/components/uv-text/uv-text\" */ \"@/uni_modules/uv-text/components/uv-text/uv-text.vue\"\n      )\n    },\n    uvModal: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uv-modal/components/uv-modal/uv-modal\" */ \"@/uni_modules/uv-modal/components/uv-modal/uv-modal.vue\"\n      )\n    },\n    uvImage: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uv-image/components/uv-image/uv-image\" */ \"@/uni_modules/uv-image/components/uv-image/uv-image.vue\"\n      )\n    },\n    xinyiSteps: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/xinyi-steps/components/xinyi-steps/xinyi-steps\" */ \"@/uni_modules/xinyi-steps/components/xinyi-steps/xinyi-steps.vue\"\n      )\n    },\n    uvAvatar: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uv-avatar/components/uv-avatar/uv-avatar\" */ \"@/uni_modules/uv-avatar/components/uv-avatar/uv-avatar.vue\"\n      )\n    },\n    uniDrawer: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-drawer/components/uni-drawer/uni-drawer\" */ \"@/uni_modules/uni-drawer/components/uni-drawer/uni-drawer.vue\"\n      )\n    },\n    uniCard: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-card/components/uni-card/uni-card\" */ \"@/uni_modules/uni-card/components/uni-card/uni-card.vue\"\n      )\n    },\n    uniTable: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-table/components/uni-table/uni-table\" */ \"@/uni_modules/uni-table/components/uni-table/uni-table.vue\"\n      )\n    },\n    uniTr: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-table/components/uni-tr/uni-tr\" */ \"@/uni_modules/uni-table/components/uni-tr/uni-tr.vue\"\n      )\n    },\n    uniTd: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-table/components/uni-td/uni-td\" */ \"@/uni_modules/uni-table/components/uni-td/uni-td.vue\"\n      )\n    },\n    finalSummary: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/final-summary/components/final-summary/final-summary\" */ \"@/uni_modules/final-summary/components/final-summary/final-summary.vue\"\n      )\n    },\n    uniPopup: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-popup/components/uni-popup/uni-popup\" */ \"@/uni_modules/uni-popup/components/uni-popup/uni-popup.vue\"\n      )\n    },\n    xinyiDice: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/xinyi-dice/components/xinyi-dice/xinyi-dice\" */ \"@/uni_modules/xinyi-dice/components/xinyi-dice/xinyi-dice.vue\"\n      )\n    },\n    ruleTable: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/rule-table/components/rule-table/rule-table\" */ \"@/uni_modules/rule-table/components/rule-table/rule-table.vue\"\n      )\n    },\n    blowEffectTable: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/blow-effect-table/components/blow-effect-table/blow-effect-table\" */ \"@/uni_modules/blow-effect-table/components/blow-effect-table/blow-effect-table.vue\"\n      )\n    },\n    ruleResult: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/rule-result/components/rule-result/rule-result\" */ \"@/uni_modules/rule-result/components/rule-result/rule-result.vue\"\n      )\n    },\n    scoreTable: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/score-table/components/score-table/score-table\" */ \"@/uni_modules/score-table/components/score-table/score-table.vue\"\n      )\n    },\n    scoreTableFinal: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/score-table-final/components/score-table-final/score-table-final\" */ \"@/uni_modules/score-table-final/components/score-table-final/score-table-final.vue\"\n      )\n    },\n    judgeTable: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/judge-table/components/judge-table/judge-table\" */ \"@/uni_modules/judge-table/components/judge-table/judge-table.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var m0 = _vm.showChessButtonInfo.visible ? _vm.checkCanAttack() : null\n  var m1 = require(\"@/static/image/map.jpg\")\n  if (!_vm._isMounted) {\n    _vm.e0 = function ($event) {\n      return _vm.$refs.showActionDesc.open()\n    }\n    _vm.e1 = function ($event) {\n      _vm.game.showSettlement = false\n    }\n    _vm.e2 = function ($event) {\n      _vm.game.showSettlement = false\n    }\n    _vm.e3 = function ($event) {\n      _vm.attackConfirm = false\n    }\n    _vm.e4 = function ($event) {\n      _vm.moveConfirm = false\n    }\n  }\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        m0: m0,\n        m1: m1,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"xinyi-content\">\n\t\t<view class=\"rightBtn\">\n\t\t\t<view class=\"btnView\" @click=\"$refs.showActionDesc.open()\">记录明细</view>\n\t\t\t<view class=\"btnView\" @click=\"getRealTimeScore\">实时得分</view>\n\t\t\t<view class=\"btnView\" @click=\"getJudgeTable\">指令录入</view>\n\t\t\t<view class=\"btnView\" @click=\"getJudgeResult\">裁决结果</view>\n\t\t\t<view v-if=\"isAdmin\" class=\"btnView\" @click=\"getTableScoreFinal\">推演得分</view>\n\t\t\t<view class=\"btnView\" @click=\"getFinalSummary\">推演汇总</view>\n\t\t</view>\n\t\t<!-- <view class=\"rightTopBtn\">\n\t\t\t<view class=\"btnView\" @click=\"changeView\">视角切换</view>\n\t\t</view> -->\n\t\t<view\n\t\t\tv-if=\"showChessButtonInfo.visible\"\n\t\t\t:style=\"{ left: showChessButtonInfo.left + 'px', top: showChessButtonInfo.top + 'px' }\"\n\t\t\tclass=\"newcontextmenu\"\n\t\t\tname=\"newcontextmenu\"\n\t\t>\n\t\t\t<view class=\"score-btn-view\">\n\t\t\t\t<uv-text\n\t\t\t\t\tv-if=\"checkCanAttack()\"\n\t\t\t\t\tprefixIcon=\"empty-history\"\n\t\t\t\t\ticonStyle=\"font-size: 19px\"\n\t\t\t\t\t:text=\"'攻击'\"\n\t\t\t\t\tcolor=\"#ffffff\"\n\t\t\t\t\t:size=\"18\"\n\t\t\t\t\t:iconStyle=\"{ color: '#ffffff', size: 18 }\"\n\t\t\t\t\t@click=\"attack()\"\n\t\t\t\t></uv-text>\n\t\t\t\t<uv-text\n\t\t\t\t\tv-if=\"game.roundPeriod == 2\"\n\t\t\t\t\tprefixIcon=\"empty-history\"\n\t\t\t\t\ticonStyle=\"font-size: 19px\"\n\t\t\t\t\t:text=\"'移动'\"\n\t\t\t\t\tcolor=\"#ffffff\"\n\t\t\t\t\t:size=\"18\"\n\t\t\t\t\t:iconStyle=\"{ color: '#ffffff', size: 18 }\"\n\t\t\t\t\t@click=\"move()\"\n\t\t\t\t></uv-text>\n\t\t\t\t<uv-text\n\t\t\t\t\tv-if=\"game.roundPeriod == 2\"\n\t\t\t\t\tprefixIcon=\"empty-history\"\n\t\t\t\t\ticonStyle=\"font-size: 19px\"\n\t\t\t\t\t:text=\"'隐藏'\"\n\t\t\t\t\tcolor=\"#ffffff\"\n\t\t\t\t\t:size=\"18\"\n\t\t\t\t\t:iconStyle=\"{ color: '#ffffff', size: 18 }\"\n\t\t\t\t\t@click=\"hide()\"\n\t\t\t\t></uv-text>\n\t\t\t</view>\n\t\t</view>\n\t\t<uv-modal\n\t\t\t:showCancelButton=\"false\"\n\t\t\tref=\"showSettlement\"\n\t\t\t@cancel=\"game.showSettlement = false\"\n\t\t\t@confirm=\"game.showSettlement = false\"\n\t\t\ttitle=\"结算\"\n\t\t>\n\t\t\t<view v-if=\"game.settlement\">\n\t\t\t\t<div>我方攻击分数:{{ game.settlement.selfAttackScore }}</div>\n\t\t\t\t<div>我方筛子分数:{{ game.settlement.selfDiceScore }}</div>\n\t\t\t\t<div>对方攻击分数:{{ game.settlement.targetAttackScore }}</div>\n\t\t\t\t<div>对方筛子分数:{{ game.settlement.targetDiceScore }}</div>\n\t\t\t</view>\n\t\t</uv-modal>\n\t\t<uv-modal @confirm=\"gameOver()\" title=\"结果\" ref=\"showResult\">\n\t\t\t<view>\n\t\t\t\t<div v-if=\"game.result == 1 && isUser\">获胜</div>\n\t\t\t\t<div v-if=\"game.result == 2 && isUser\">失败</div>\n\t\t\t\t<div v-if=\"game.result == 0 && isUser\">平局</div>\n\t\t\t\t<div v-if=\"!isUser\">{{ game.resultStr }}</div>\n\t\t\t</view>\n\t\t</uv-modal>\n\t\t<uv-modal\n\t\t\t:showCancelButton=\"true\"\n\t\t\tref=\"attackConfirm\"\n\t\t\t@cancel=\"attackConfirm = false\"\n\t\t\t@confirm=\"attackPoint()\"\n\t\t\ttitle=\"确认\"\n\t\t\tcontent=\"是否攻击该位置\"\n\t\t\twidth=\"200rpx\"\n\t\t></uv-modal>\n\t\t<uv-modal\n\t\t\t:showCancelButton=\"true\"\n\t\t\tref=\"moveConfirm\"\n\t\t\t@cancel=\"moveConfirm = false\"\n\t\t\t@confirm=\"movePoint()\"\n\t\t\ttitle=\"确认\"\n\t\t\twidth=\"200rpx\"\n\t\t\tcontent=\"是否移动到该位置\"\n\t\t></uv-modal>\n\t\t<uv-modal :showCancelButton=\"false\" :showConfirmButton=\"false\" ref=\"showDown\" width=\"200rpx\" title=\"取消棋子\">\n\t\t\t<view>\n\t\t\t\t<u-button @click=\"cancelPiece()\">取消</u-button>\n\t\t\t</view>\n\t\t</uv-modal>\n\n\t\t<uv-modal :showCancelButton=\"false\" :showConfirmButton=\"false\" title=\"棋子选着\" ref=\"showSelPiece\">\n\t\t\t<view>\n\t\t\t\t<div style=\"display: flex; flex-wrap: wrap; justify-content: flex-start\">\n\t\t\t\t\t<div\n\t\t\t\t\t\tv-if=\"!item.isAdd && item.chessPiecesCampId == campId\"\n\t\t\t\t\t\t@click=\"selPiece(item)\"\n\t\t\t\t\t\tv-for=\"(item, index) in game.userPiece\"\n\t\t\t\t\t\tstyle=\"width: 77upx; height: 77upx\"\n\t\t\t\t\t\t:key=\"index\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<uv-image\n\t\t\t\t\t\t\tstyle=\"margin-left: 11upx\"\n\t\t\t\t\t\t\t:src=\"item.chessPiecesCover\"\n\t\t\t\t\t\t\twidth=\"55upx\"\n\t\t\t\t\t\t\theight=\"55upx\"\n\t\t\t\t\t\t></uv-image>\n\t\t\t\t\t\t<div style=\"text-align: center\">{{ item.chessPiecesName }}</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</view>\n\t\t</uv-modal>\n\n\t\t<view class=\"top__view\">\n\t\t\t<xinyi-steps\n\t\t\t\t:options=\"stageOptions\"\n\t\t\t\t:active=\"stageActive\"\n\t\t\t\tarrowRight\n\t\t\t\t:canClick=\"true\"\n\t\t\t\t:clickType=\"'stage'\"\n\t\t\t\t:statusDesc=\"statusDesc\"\n\t\t\t\t:isAdmin=\"isAdmin\"\n\t\t\t\t:statusIndex=\"statusIndex\"\n\t\t\t></xinyi-steps>\n\t\t\t<view class=\"dice-toolbar__veiw\">\n\t\t\t\t<button\n\t\t\t\t\tclass=\"stage-over__btn\"\n\t\t\t\t\ttype=\"primary\"\n\t\t\t\t\tv-if=\"game.nowRound == 0 && game.isDeplaoy && isUser\"\n\t\t\t\t\t@click=\"endDeployFunc()\"\n\t\t\t\t>\n\t\t\t\t\t结束部署\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\tclass=\"stage-over__btn\"\n\t\t\t\t\ttype=\"primary\"\n\t\t\t\t\tv-if=\"isUser && game.nowRound != 0 && userStageNotSubmit\"\n\t\t\t\t\t@click=\"endRoundFunc()\"\n\t\t\t\t>\n\t\t\t\t\t提交\n\t\t\t\t</button>\n\t\t\t\t<button class=\"stage-over__btn\" type=\"primary\" v-if=\"isAdmin && roundEnd\" @click=\"judge()\">裁决</button>\n\t\t\t</view>\n\t\t\t<view class=\"avatar-view\">\n\t\t\t\t<uv-avatar :text=\"avatarText\" fontSize=\"14\" bg-color=\"#7f7f00\" color=\"#ffffff\"></uv-avatar>\n\t\t\t</view>\n\t\t</view>\n\n\t\t<view class=\"main__view\" :style=\"cssVars\">\n\t\t\t<view class=\"map__view\">\n\t\t\t\t<vue-draggable-resizable class=\"map\">\n\t\t\t\t\t<img class=\"bg\" src=\"@/static/image/map.jpg\" />\n\t\t\t\t\t<view class=\"bgCell\">\n\t\t\t\t\t\t<view v-for=\"(item, index) in mapList\" :key=\"index\">\n\t\t\t\t\t\t\t<view style=\"display: flex; flex-wrap: nowrap\">\n\t\t\t\t\t\t\t\t<view\n\t\t\t\t\t\t\t\t\tv-for=\"(h, idx) in item\"\n\t\t\t\t\t\t\t\t\tclass=\"block\"\n\t\t\t\t\t\t\t\t\t@click=\"showOpView($event, h, index, idx)\"\n\t\t\t\t\t\t\t\t\t:key=\"idx\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<view class=\"block_border\">\n\t\t\t\t\t\t\t\t\t\t<view class=\"statusDesc\" style=\"font-size: 4upx\">{{ h.statusDesc }}</view>\n\t\t\t\t\t\t\t\t\t\t<img class=\"chessImage\" v-if=\"h.chessPiecesCover\" :src=\"h.chessPiecesCover\" />\n\t\t\t\t\t\t\t\t\t\t<view style=\"font-size: 4upx\">\n\t\t\t\t\t\t\t\t\t\t\t{{ h.chessPiecesNumber }}\n\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</vue-draggable-resizable>\n\t\t\t</view>\n\t\t</view>\n\t\t<uni-drawer ref=\"showActionDesc\" mode=\"right\" :width=\"400\">\n\t\t\t<view class=\"scroll-view\" style=\"padding-right: 30px\">\n\t\t\t\t<scroll-view class=\"scroll-view-box\" scroll-y=\"true\" style=\"height: 80vh\">\n\t\t\t\t\t<uni-card v-for=\"(item, index) in game.actionDescList\" :key=\"index\">\n\t\t\t\t\t\t<view @click=\"cjResult(index)\" v-html=\"item\"></view>\n\t\t\t\t\t</uni-card>\n\t\t\t\t</scroll-view>\n\t\t\t</view>\n\t\t</uni-drawer>\n\t\t<uni-drawer ref=\"showRealTimeScore\" mode=\"right\" :width=\"400\">\n\t\t\t<view class=\"scroll-view\" style=\"padding-right: 30px\">\n\t\t\t\t<uni-table border>\n\t\t\t\t\t<uni-tr class=\"rowTitle\">\n\t\t\t\t\t\t<uni-td align=\"center\">{{ realTimeScore.firstCampName }}</uni-td>\n\t\t\t\t\t\t<uni-td align=\"center\">阵营</uni-td>\n\t\t\t\t\t\t<uni-td align=\"center\">{{ realTimeScore.secondCampName }}</uni-td>\n\t\t\t\t\t</uni-tr>\n\t\t\t\t\t<uni-tr class=\"rowTitle\">\n\t\t\t\t\t\t<uni-td align=\"center\">{{ realTimeScore.firstScoretype1 }}</uni-td>\n\t\t\t\t\t\t<uni-td align=\"center\">指挥口令规范性</uni-td>\n\t\t\t\t\t\t<uni-td align=\"center\">{{ realTimeScore.secondScoretype1 }}</uni-td>\n\t\t\t\t\t</uni-tr>\n\t\t\t\t\t<uni-tr class=\"rowTitle\">\n\t\t\t\t\t\t<uni-td align=\"center\">{{ realTimeScore.firstScoretype2 }}</uni-td>\n\t\t\t\t\t\t<uni-td align=\"center\">指挥要素完备性</uni-td>\n\t\t\t\t\t\t<uni-td align=\"center\">{{ realTimeScore.secondScoretype2 }}</uni-td>\n\t\t\t\t\t</uni-tr>\n\t\t\t\t\t<uni-tr class=\"rowTitle\">\n\t\t\t\t\t\t<uni-td align=\"center\">{{ realTimeScore.firstScoretype3 }}</uni-td>\n\t\t\t\t\t\t<uni-td align=\"center\">打击效果</uni-td>\n\t\t\t\t\t\t<uni-td align=\"center\">{{ realTimeScore.secondScoretype3 }}</uni-td>\n\t\t\t\t\t</uni-tr>\n\t\t\t\t\t<uni-tr class=\"rowTitle\">\n\t\t\t\t\t\t<uni-td align=\"center\">{{ realTimeScore.firstScoretypeTotal }}</uni-td>\n\t\t\t\t\t\t<uni-td align=\"center\">总分</uni-td>\n\t\t\t\t\t\t<uni-td align=\"center\">{{ realTimeScore.secondScoretypeTotal }}</uni-td>\n\t\t\t\t\t</uni-tr>\n\t\t\t\t</uni-table>\n\t\t\t</view>\n\t\t</uni-drawer>\n\t\t<!-- <uni-drawer ref=\"showFinalSummary\" mode=\"right\" :width=\"1200\"></uni-drawer> -->\n\t\t<final-summary\n\t\t\tref=\"finalSummary\"\n\t\t\t:dataArray=\"summaryScoreData\"\n\t\t\t:round=\"chartRound\"\n\t\t\t:campData=\"campList\"\n\t\t></final-summary>\n\t\t<view class=\"foot-view\">\n\t\t\t<xinyi-steps\n\t\t\t\t:options=\"roundOptions\"\n\t\t\t\t:active=\"roundActive\"\n\t\t\t\t:canClick=\"true\"\n\t\t\t\t:clickType=\"'round'\"\n\t\t\t\tarrowRight\n\t\t\t\t:campData=\"campList\"\n\t\t\t\t@setScore=\"scoreTableShow\"\n\t\t\t></xinyi-steps>\n\t\t</view>\n\t\t<uni-popup ref=\"popup\" :isMaskClick=\"false\" maskBackgroundColor=\"rgba(0,0,0,0.2)\">\n\t\t\t<view class=\"dice__veiw\">\n\t\t\t\t<xinyi-dice v-for=\"(item, index) in diceCount\" :key=\"index\" :ref=\"`dice${index}`\"></xinyi-dice>\n\t\t\t</view>\n\t\t</uni-popup>\n\t\t<!-- <ruleTable ref=\"popupRule\"></ruleTable> -->\n\t\t<rule-table ref=\"popupRule\" :dataArray=\"ruleArray\" @maskClick=\"ruleTableMaskClick\"></rule-table>\n\t\t<blow-effect-table\n\t\t\tref=\"blowEffectTable\"\n\t\t\t:dataArray=\"blowEffectList\"\n\t\t\t@maskClick=\"blowEffectMaskClick\"\n\t\t></blow-effect-table>\n\t\t<rule-result ref=\"ruleResult\" :data=\"historyList\"></rule-result>\n\t\t<score-table\n\t\t\tref=\"scoreTable\"\n\t\t\t:data=\"campListItem\"\n\t\t\t:scoreList=\"scoreList\"\n\t\t\t@submitScore=\"submitScore\"\n\t\t></score-table>\n\t\t<score-table-final\n\t\t\tref=\"scoreTableFinal\"\n\t\t\t:scoreList=\"finalScoreList\"\n\t\t\t:data=\"finalData\"\n\t\t\t@submitScore=\"submitScoreFinal\"\n\t\t></score-table-final>\n\t\t<judge-table ref=\"judgeTable\" :showInfo=\"judgeTableShowInfo\"></judge-table>\n\t</view>\n</template>\n\n<script>\nimport { sendMsg } from '@/api/websocket.js';\nimport { queryMapInfo } from '../../api/arbiterMap.js';\nimport VueDraggableResizable from 'vue-draggable-resizable-gorkys';\nimport 'vue-draggable-resizable-gorkys/dist/VueDraggableResizable.css';\nimport {\n\tqueryGameStatus,\n\tqueryChessRound,\n\tqueryPrompt,\n\tqueryVerdictResult,\n\tqueryActionEffect,\n\tisOwnRound,\n\tqueryAllChessPiecesInfo,\n\tendDeploy,\n\tchessPiecesAction,\n\tdeployChessPieces,\n\tendRound,\n\tchessPiecesActionNew,\n\tgetRuleList,\n\tgetBlowEffectList,\n\tchessPiecesActionContinue,\n\tsubmitScore,\n\tqueryScoreList,\n\tgetRealTimeScore,\n\tgetSummaryScore,\n\tgetRoundStatus,\n\tjudge\n} from '../../api/verdictRecord.js';\nimport { nextTick } from 'vue';\nexport default {\n\tcomponents: {\n\t\tVueDraggableResizable\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tdiceCount: 2,\n\t\t\tdiceCountList: [\n\t\t\t\t{ value: 1, text: '1' },\n\t\t\t\t{ value: 2, text: '2' }\n\t\t\t],\n\t\t\tgame: {\n\t\t\t\tstatus: 0,\n\t\t\t\tchessRound: 1,\n\t\t\t\tnowRound: 0,\n\t\t\t\tbaseRound: 0,\n\t\t\t\tuserPiece: '',\n\t\t\t\tisDeplaoy: true,\n\t\t\t\tisOwn: false,\n\t\t\t\tisUser: false,\n\t\t\t\tshowSettlement: false,\n\t\t\t\tsettlement: '',\n\t\t\t\tshowResult: false,\n\t\t\t\tresult: 0,\n\t\t\t\tresultStr: '',\n\t\t\t\tallRound: 0,\n\t\t\t\troundPeriod: '',\n\t\t\t\troundDesc: '',\n\t\t\t\tactionDescList: []\n\t\t\t},\n\t\t\tmap: {},\n\t\t\tattackConfirm: false,\n\t\t\tattackNumber: '',\n\t\t\tmoveConfirm: false,\n\t\t\tverdictRecordId: '',\n\t\t\tcampId: '',\n\t\t\tmapLongTmp: 1,\n\t\t\tmapWidthTmp: 1,\n\t\t\tboxWith: 66,\n\t\t\tmapLong: 1,\n\t\t\tmapWidth: 1,\n\t\t\tshowOp: false,\n\t\t\tshowDown: false,\n\t\t\tshowSelPiece: false,\n\t\t\tselCellInfo: '',\n\t\t\ttargetCellInfo: '',\n\t\t\ttmQuery: '',\n\t\t\tisMove: false,\n\t\t\tisAttack: false,\n\t\t\tmapList: [],\n\t\t\tuser: {},\n\t\t\troundOptions: [],\n\t\t\tstageOptions: [\n\t\t\t\t{ title: '直瞄射击阶段' },\n\t\t\t\t{ title: '机动阶段' },\n\t\t\t\t{ title: '解除压制阶段' },\n\t\t\t\t{ title: '间瞄射击阶段' }\n\t\t\t],\n\t\t\troundActive: 0,\n\t\t\tstageActive: 0,\n\t\t\tisAdmin: false,\n\t\t\thistoryList: [],\n\t\t\truleArray: [],\n\t\t\tblowEffectList: [],\n\t\t\tverdictRule: {},\n\t\t\tdiceValue: [],\n\t\t\tshowScoreButtonInfo: {\n\t\t\t\tvisible: false,\n\t\t\t\ttop: 0,\n\t\t\t\tleft: 0\n\t\t\t},\n\t\t\tshowChessButtonInfo: {\n\t\t\t\tvisible: false,\n\t\t\t\ttop: 0,\n\t\t\t\tleft: 0\n\t\t\t},\n\t\t\tcampList: [],\n\t\t\tcampListItem: {},\n\t\t\tisUser: false,\n\t\t\tscoreTableHistory: [],\n\t\t\tscoreList: [],\n\t\t\trealTimeScore: {\n\t\t\t\tfirstCampName: '',\n\t\t\t\tfirstScoretype1: 0,\n\t\t\t\tfirstScoretype2: 0,\n\t\t\t\tfirstScoretype3: 0,\n\t\t\t\tfirstScoretypeTotal: 0,\n\t\t\t\tsecondCampName: '',\n\t\t\t\tsecondScoretype1: 0,\n\t\t\t\tsecondScoretype2: 0,\n\t\t\t\tsecondScoretype3: 0,\n\t\t\t\tsecondScoretypeTotal: 0\n\t\t\t},\n\t\t\tsummaryDataArray: [],\n\t\t\tfinalData: [],\n\t\t\tfinalScoreList: [],\n\t\t\tsummaryScoreData: [],\n\t\t\tchessRoundLimit: 0,\n\t\t\tchartRound: 0,\n\t\t\tselectIndex: [],\n\t\t\tselectTargetIndex: [],\n\t\t\troundStatusList: [],\n\t\t\tstatusDesc: '',\n\t\t\troundEnd: false,\n\t\t\tuserStageNotSubmit: false,\n\t\t\tavatarText: '',\n\t\t\tstatusIndex: 0,\n\t\t\tjudgeTableShowInfo: {}\n\t\t};\n\t},\n\n\tonLoad(res) {\n\t\t// 注册websocket监听;\n\t\tthis.onMessage();\n\t\tsetTimeout(() => {\n\t\t\tthis.arrange();\n\t\t}, 5);\n\t\tthis.user = uni.getStorageSync('user');\n\t\tthis.verdictRecordId = res.verdictRecordId;\n\t\tthis.campId = res.campId;\n\t\tthis.isUser = res.isUser == 'true';\n\t\tthis.queryAllFunc();\n\t\tthis.queryMapInfoFunc();\n\t\t// this.initChessRound();\n\t\tsetTimeout(() => {\n\t\t\tthis.queryUsChessPiecesInfoFunc();\n\t\t}, 2121);\n\t},\n\tcomputed: {\n\t\tcssVars() {\n\t\t\treturn {\n\t\t\t\t'--mapTop': this.map.mapTop + 'px',\n\t\t\t\t'--mapLeft': this.map.mapLeft + 'px',\n\t\t\t\t'--mapWidth': this.map.mapWidth + 'px',\n\t\t\t\t'--mapHeight': this.map.mapHeight + 'px',\n\t\t\t\t'--marginTop': -this.map.mapRadius / 2 + 'px',\n\t\t\t\t'--cellWidth': Math.cos(((2 * Math.PI) / 360) * 30) * this.map.mapRadius * 2 + 'px',\n\t\t\t\t'--cellHeight': this.map.mapRadius * 2 + 'px',\n\t\t\t\t'--chessMapPaddingTop': this.map.mapRadius / 4 + 'px',\n\t\t\t\t'--chessMapWidth': Math.cos(((2 * Math.PI) / 360) * 30) * this.map.mapRadius + 'px',\n\t\t\t\t'--chessMapHeight': Math.cos(((2 * Math.PI) / 360) * 30) * this.map.mapRadius + 'px',\n\t\t\t\t'--chessMapMarginLeft': (Math.cos(((2 * Math.PI) / 360) * 30) * this.map.mapRadius) / 2 + 'px'\n\t\t\t};\n\t\t}\n\t},\n\tmethods: {\n\t\t// websocket 接收信息\n\t\tonMessage() {\n\t\t\tuni.$on('onMessage', (res) => {\n\t\t\t\tlet jsonRes = JSON.parse(res.data);\n\t\t\t\tlet action = jsonRes.action;\n\t\t\t\tswitch (action) {\n\t\t\t\t\tcase 'shakeDice':\n\t\t\t\t\t\tthis.$refs.popupRule.close();\n\t\t\t\t\t\tlet diceArr = jsonRes.data;\n\t\t\t\t\t\tthis.shakeDice(diceArr);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'lookUpTable':\n\t\t\t\t\t\tthis.getRuleList();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'colseTable':\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'takeAction':\n\t\t\t\t\t\tthis.queryAllFunc();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'endRound':\n\t\t\t\t\t\t//更新管理员看到的提交状态\n\t\t\t\t\t\tthis.getRoundStatus();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'judge':\n\t\t\t\t\t\t//裁决结果展示\n\t\t\t\t\t\tlet judgeData = jsonRes.data;\n\t\t\t\t\t\tthis.judgeShow(judgeData);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'refresh':\n\t\t\t\t\t\tthis.refresh();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tgetJudgeTable() {\n\t\t\tthis.judgeTableShowInfo = {\n\t\t\t\ttype: 'input',\n\t\t\t\tverdictRecordId: this.verdictRecordId,\n\t\t\t\tchessRound: this.roundActive,\n\t\t\t\troundPeriod: this.stageActive + 1,\n\t\t\t\troundPeriodName: this.stageOptions[this.stageActive].title,\n\t\t\t\tcampId: this.campId\n\t\t\t};\n\t\t\tthis.$refs.judgeTable.open();\n\t\t},\n\n\t\tgetJudgeResult() {\n\t\t\tlet index;\n\t\t\tconsole.log('this.stageActive: ', this.stageActive + 1);\n\t\t\tthis.judgeTableShowInfo = {\n\t\t\t\ttype: 'record',\n\t\t\t\tverdictRecordId: this.verdictRecordId,\n\t\t\t\t// chessRound: this.roundActive,\n\t\t\t\t// roundPeriod: this.stageActive + 1,\n\t\t\t\tcampId: this.campId\n\t\t\t};\n\t\t\tthis.$refs.judgeTable.open();\n\t\t},\n\t\tasync judge() {\n\t\t\tlet data = {\n\t\t\t\tverdictRecordId: this.verdictRecordId,\n\t\t\t\tchessRound: this.roundActive,\n\t\t\t\troundPeriod: this.stageActive + 1\n\t\t\t};\n\t\t\tlet res = await judge(data);\n\t\t\tlet resultData = res.data.data;\n\t\t\tconsole.log('resultData: ', resultData.length);\n\t\t\tif (resultData.length > 0) {\n\t\t\t\tsendMsg(\n\t\t\t\t\tJSON.stringify({\n\t\t\t\t\t\taction: 'judge',\n\t\t\t\t\t\tverdictRecordId: this.verdictRecordId,\n\t\t\t\t\t\tdata: resultData\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tsendMsg(\n\t\t\t\t\tJSON.stringify({\n\t\t\t\t\t\taction: 'takeAction',\n\t\t\t\t\t\tverdictRecordId: this.verdictRecordId\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t}\n\t\t},\n\t\tasync testAsync() {\n\t\t\tlet that = this;\n\t\t\t// this.$refs.popupRule.open();\n\t\t\tfor (let i = 0; i < 5; i++) {}\n\t\t},\n\t\tsleep(ms) {\n\t\t\treturn new Promise((resolve) => setTimeout(resolve, ms));\n\t\t},\n\t\tasync judgeShow(dataArray) {\n\t\t\tlet that = this;\n\t\t\tfor (let i = 0; i < dataArray.length; i++) {\n\t\t\t\tconsole.log('i: ', i);\n\t\t\t\tlet data = {\n\t\t\t\t\tverdictType: 10\n\t\t\t\t};\n\t\t\t\tlet ruleRes = await getRuleList(data);\n\t\t\t\tthat.ruleArray = ruleRes.data.data;\n\t\t\t\tconsole.log('打开规则表');\n\t\t\t\tthat.$refs.popupRule.open();\n\t\t\t\tawait that.sleep(5000);\n\t\t\t\tconsole.log('关闭规则表' + i);\n\t\t\t\tthat.$refs.popupRule.close();\n\t\t\t\tawait that.sleep(2000);\n\t\t\t\tthat.shakeDice(dataArray[i].dice);\n\t\t\t\tawait that.sleep(5000);\n\t\t\t\tthat.$refs.popup.close();\n\t\t\t\tawait that.sleep(2000);\n\t\t\t\tlet blowEffectRes = await getBlowEffectList(data);\n\t\t\t\tthis.blowEffectList = blowEffectRes.data.data;\n\t\t\t\tconsole.log('打开结果表');\n\t\t\t\tthis.$refs.blowEffectTable.open();\n\t\t\t\tawait that.sleep(5000);\n\t\t\t\tconsole.log('关闭结果表' + i);\n\t\t\t\tthat.$refs.blowEffectTable.close();\n\t\t\t}\n\t\t\tsendMsg(\n\t\t\t\tJSON.stringify({\n\t\t\t\t\taction: 'takeAction',\n\t\t\t\t\tverdictRecordId: this.verdictRecordId\n\t\t\t\t})\n\t\t\t);\n\t\t},\n\t\tgetRuleListAsync() {\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tgetRuleList({ verdictType: 10 }).then((res) => {\n\t\t\t\t\tresolve(res.data.data);\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tasync getRuleList() {\n\t\t\tlet data = {\n\t\t\t\tverdictType: 10\n\t\t\t};\n\t\t\tlet ruleRes = await getRuleList(data);\n\t\t\tthis.ruleArray = ruleRes.data.data;\n\t\t\tconsole.log('打开规则表');\n\t\t\tthis.$refs.popupRule.open();\n\t\t},\n\n\t\tasync getRoundStatus() {\n\t\t\tlet data = {\n\t\t\t\tverdictRecordId: this.verdictRecordId,\n\t\t\t\tchessRound: this.roundActive,\n\t\t\t\troundPeriod: this.stageActive + 1\n\t\t\t};\n\t\t\tthis.roundStatusList = [];\n\t\t\tlet result = await getRoundStatus(data);\n\t\t\tthis.roundStatusList = result.data.data;\n\t\t\tthis.formatterStatusDesc(this.roundStatusList);\n\t\t},\n\t\tformatterStatusDesc(newVal) {\n\t\t\tif (this.isAdmin) {\n\t\t\t\tlet n = 0;\n\t\t\t\tfor (let i in newVal) {\n\t\t\t\t\tif (newVal[i].status == 1) {\n\t\t\t\t\t\tn++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (n == 0) {\n\t\t\t\t\tthis.statusDesc = '未提交';\n\t\t\t\t\tthis.roundEnd = false;\n\t\t\t\t} else if (n == 1) {\n\t\t\t\t\tthis.statusDesc = '一方已提交';\n\t\t\t\t\tthis.roundEnd = false;\n\t\t\t\t} else {\n\t\t\t\t\tthis.statusDesc = '已提交';\n\t\t\t\t\tthis.roundEnd = true;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tlet n = 0;\n\t\t\t\tfor (let i in newVal) {\n\t\t\t\t\tif (newVal[i].campId == this.campId && newVal[i].status == 1) {\n\t\t\t\t\t\tn++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (n == 0) {\n\t\t\t\t\tthis.statusDesc = '未提交';\n\t\t\t\t\tthis.userStageNotSubmit = true;\n\t\t\t\t} else if (n == 1) {\n\t\t\t\t\tthis.statusDesc = '已提交';\n\t\t\t\t\tthis.userStageNotSubmit = false;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.statusIndex = 1;\n\t\t\tconsole.log('this.statusDesc: ', this.statusDesc);\n\t\t},\n\t\tasync getRealTimeScore() {\n\t\t\tlet queryScoreData = {\n\t\t\t\tverdictRecordId: this.verdictRecordId\n\t\t\t};\n\t\t\tlet scoreListResult = await getRealTimeScore(queryScoreData);\n\t\t\tlet realTimeScoreList = scoreListResult.data.data;\n\t\t\tconsole.log('realTimeScoreList: ', realTimeScoreList);\n\t\t\tthis.realTimeScore.firstScoretypeTotal = 0;\n\t\t\tthis.realTimeScore.secondScoretypeTotal = 0;\n\t\t\tthis.realTimeScore.firstCampName = this.campList[0].campName;\n\t\t\tthis.realTimeScore.secondCampName = this.campList[1].campName;\n\t\t\tfor (var i in realTimeScoreList) {\n\t\t\t\tif (this.campList[0].campId == realTimeScoreList[i].campId) {\n\t\t\t\t\tif (realTimeScoreList[i].type == 1) {\n\t\t\t\t\t\tthis.realTimeScore.firstScoretype1 = realTimeScoreList[i].score;\n\t\t\t\t\t} else if (realTimeScoreList[i].type == 2) {\n\t\t\t\t\t\tthis.realTimeScore.firstScoretype2 = realTimeScoreList[i].score;\n\t\t\t\t\t} else if (realTimeScoreList[i].type == 3) {\n\t\t\t\t\t\tthis.realTimeScore.firstScoretype3 = realTimeScoreList[i].score;\n\t\t\t\t\t}\n\t\t\t\t\tthis.realTimeScore.firstScoretypeTotal += realTimeScoreList[i].score;\n\t\t\t\t} else {\n\t\t\t\t\tif (realTimeScoreList[i].type == 1) {\n\t\t\t\t\t\tthis.realTimeScore.secondScoretype1 = realTimeScoreList[i].score;\n\t\t\t\t\t} else if (realTimeScoreList[i].type == 2) {\n\t\t\t\t\t\tthis.realTimeScore.secondScoretype2 = realTimeScoreList[i].score;\n\t\t\t\t\t} else if (realTimeScoreList[i].type == 3) {\n\t\t\t\t\t\tthis.realTimeScore.secondScoretype3 = realTimeScoreList[i].score;\n\t\t\t\t\t}\n\t\t\t\t\tthis.realTimeScore.secondScoretypeTotal += realTimeScoreList[i].score;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.$refs.showRealTimeScore.open();\n\t\t},\n\t\tasync getFinalSummary() {\n\t\t\tlet queryScoreData = {\n\t\t\t\tverdictRecordId: this.verdictRecordId\n\t\t\t};\n\t\t\tlet res = await getSummaryScore(queryScoreData);\n\t\t\tthis.chartRound = this.chessRoundLimit;\n\t\t\tconsole.log('res: ', res);\n\t\t\tthis.summaryScoreData = res.data.data;\n\t\t\tthis.$refs.finalSummary.open();\n\t\t},\n\t\truleTableMaskClick() {\n\t\t\tsendMsg(\n\t\t\t\tJSON.stringify({\n\t\t\t\t\taction: 'colseTable',\n\t\t\t\t\tverdictRecordId: this.verdictRecordId,\n\t\t\t\t\tdata: 0\n\t\t\t\t})\n\t\t\t);\n\t\t},\n\t\tblowEffectMaskClick() {\n\t\t\tsendMsg(\n\t\t\t\tJSON.stringify({\n\t\t\t\t\taction: 'colseTable',\n\t\t\t\t\tverdictRecordId: this.verdictRecordId,\n\t\t\t\t\tdata: 1\n\t\t\t\t})\n\t\t\t);\n\t\t},\n\t\tscoreBtnClose() {\n\t\t\tthis.showScoreButtonInfo.visible = false;\n\t\t},\n\t\tasync scoreTableShow(item, index) {\n\t\t\titem.chessRound = this.roundActive;\n\t\t\tthis.campListItem = item;\n\t\t\t//查询历史打分结果\n\t\t\tlet queryScoreData = {\n\t\t\t\tverdictRecordId: item.verdictRecordId,\n\t\t\t\tcampId: item.campId,\n\t\t\t\tchessRound: index\n\t\t\t};\n\t\t\tlet scoreListResult = await queryScoreList(queryScoreData);\n\t\t\tthis.scoreList = scoreListResult.data.data;\n\t\t\tthis.$refs.scoreTable.open();\n\t\t\tthis.showScoreButtonInfo.visible = false;\n\t\t},\n\t\tasync submitScore(scoreList) {\n\t\t\tfor (let i in scoreList) {\n\t\t\t\tscoreList[i].campId = this.campListItem.campId;\n\t\t\t\tscoreList[i].campName = this.campListItem.campName;\n\t\t\t\tscoreList[i].userId = this.campListItem.userId;\n\t\t\t\tscoreList[i].userName = this.campListItem.userName;\n\t\t\t\tscoreList[i].verdictRecordId = this.campListItem.verdictRecordId;\n\t\t\t\tscoreList[i].chessRound = this.campListItem.chessRound;\n\t\t\t}\n\t\t\tlet res = await submitScore(scoreList);\n\t\t\tif (res.data.code == 200) {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '提交成功',\n\t\t\t\t\ticon: 'none',\n\t\t\t\t\tduration: 1500\n\t\t\t\t});\n\t\t\t\tthis.$refs.scoreTable.close();\n\t\t\t\tthis.scoreList = [];\n\t\t\t} else {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '提交失败！',\n\t\t\t\t\ticon: 'error',\n\t\t\t\t\tduration: 1500\n\t\t\t\t});\n\t\t\t}\n\t\t\tconsole.log(res);\n\t\t},\n\t\tasync getTableScoreFinal() {\n\t\t\tthis.finalData = this.campList;\n\t\t\t//获取推演打分记录\n\t\t\tlet queryScoreData = {\n\t\t\t\tverdictRecordId: this.verdictRecordId,\n\t\t\t\ttypeString: '4,5'\n\t\t\t};\n\t\t\tlet scoreListResult = await queryScoreList(queryScoreData);\n\t\t\tthis.finalScoreList = scoreListResult.data.data;\n\t\t\tthis.$refs.scoreTableFinal.open();\n\t\t},\n\t\tasync submitScoreFinal(scoreList) {\n\t\t\tlet res = await submitScore(scoreList);\n\t\t\tif (res.data.code == 200) {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '提交成功',\n\t\t\t\t\ticon: 'none',\n\t\t\t\t\tduration: 1500\n\t\t\t\t});\n\t\t\t\tthis.$refs.scoreTableFinal.close();\n\t\t\t} else {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '提交失败！',\n\t\t\t\t\ticon: 'error',\n\t\t\t\t\tduration: 1500\n\t\t\t\t});\n\t\t\t}\n\t\t\tconsole.log(res);\n\t\t},\n\n\t\tasync refresh() {\n\t\t\tawait this.queryUsChessPiecesInfoFunc();\n\t\t\tawait this.queryPromptFunc();\n\t\t},\n\t\tasync getBlowEffectList() {\n\t\t\tlet data = {\n\t\t\t\tverdictType: 10\n\t\t\t};\n\t\t\tlet blowEffectRes = await getBlowEffectList(data);\n\t\t\tthis.blowEffectList = blowEffectRes.data.data;\n\t\t\tconsole.log('打开结果表');\n\t\t\tthis.$refs.blowEffectTable.open();\n\t\t},\n\t\tcjResult(index) {\n\t\t\tif (this.stageActive == 0 || this.stageActive == 3) {\n\t\t\t\tthis.$refs.ruleResult.open();\n\t\t\t}\n\t\t},\n\t\tshakeDice(diceArr) {\n\t\t\tconsole.log('打开骰子');\n\t\t\tthis.$refs.popup.open();\n\t\t\tthis.$nextTick(() => {\n\t\t\t\tfor (var i = 0; i < this.diceCount; i++) {\n\t\t\t\t\tthis.$refs[`dice${i}`][0].throwDice(diceArr[i]);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tasync initChessRound() {\n\t\t\tlet data = {\n\t\t\t\tid: this.verdictRecordId\n\t\t\t};\n\t\t\tlet res = await queryGameStatus(data);\n\t\t\tthis.chessRoundLimit = res.data.data.chessRoundLimit;\n\t\t\tthis.initialRoundOptions(this.chessRoundLimit);\n\t\t},\n\t\tinitialRoundOptions(round) {\n\t\t\tthis.roundOptions = [{ title: '部署阶段' }];\n\t\t\tfor (let i = 0; i <= round - 1; i++) {\n\t\t\t\tthis.roundOptions.push({ title: '回   合   ' + Number(i + 1) });\n\t\t\t}\n\t\t},\n\t\tshowOpView(e, val, index, idx) {\n\t\t\tthis.showChessButtonInfo.visible = false;\n\t\t\tif (!this.isUser) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (this.game.nowRound == 0) {\n\t\t\t\tthis.selCellInfo = val;\n\t\t\t\tif (val.chessPiecesNumber) {\n\t\t\t\t\tthis.$refs.showDown.open();\n\t\t\t\t} else {\n\t\t\t\t\tthis.$refs.showSelPiece.open();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// if (this.game.isOwn) {\n\t\t\t\tif (\n\t\t\t\t\tval.chessPiecesNumber &&\n\t\t\t\t\tval.chessPiecesCampId == this.campId &&\n\t\t\t\t\t!val.isAction &&\n\t\t\t\t\tval.status == 10\n\t\t\t\t) {\n\t\t\t\t\t// this.$refs.showOp.open();\n\t\t\t\t\tthis.chessClick(e);\n\t\t\t\t\tthis.selCellInfo = val;\n\t\t\t\t\tthis.selectIndex = [];\n\t\t\t\t\tthis.selectIndex.push(index);\n\t\t\t\t\tthis.selectIndex.push(idx);\n\t\t\t\t} else {\n\t\t\t\t\tif (this.isAttack && val.chessPiecesNumber && val.status != 20) {\n\t\t\t\t\t\tthis.targetCellInfo = val;\n\t\t\t\t\t\tthis.attackNumber = val.chessPiecesNumber;\n\t\t\t\t\t\tthis.$refs.attackConfirm.open();\n\t\t\t\t\t}\n\t\t\t\t\tif (this.isMove) {\n\t\t\t\t\t\tthis.targetCellInfo = val;\n\t\t\t\t\t\tthis.$refs.moveConfirm.open();\n\t\t\t\t\t}\n\t\t\t\t\tthis.selectTargetIndex = [];\n\t\t\t\t\tthis.selectTargetIndex.push(index);\n\t\t\t\t\tthis.selectTargetIndex.push(idx);\n\t\t\t\t}\n\t\t\t\t// }\n\t\t\t}\n\t\t},\n\t\tchessClick(e) {\n\t\t\tsetTimeout(() => {\n\t\t\t\tlet x = e.detail.x; //这个应该是相对于整个浏览器页面的x坐标，左上角为坐标原点（0,0）\n\t\t\t\tlet y = e.detail.y; //这个应该是相对于整个浏览器页面的y坐标，左上角为坐标原点（0,0）\n\t\t\t\tthis.showChessButtonInfo.top = y;\n\t\t\t\tthis.showChessButtonInfo.left = x;\n\t\t\t\tthis.showChessButtonInfo.visible = true;\n\t\t\t}, 100);\n\t\t},\n\t\tasync queryMapInfoFunc() {\n\t\t\tlet data = {\n\t\t\t\tid: this.verdictRecordId\n\t\t\t};\n\t\t\tqueryMapInfo(data).then((res) => {\n\t\t\t\tthis.map = res.data.data;\n\t\t\t\tthis.gen();\n\t\t\t});\n\t\t},\n\t\tgen() {\n\t\t\tthis.mapLong = this.map.longitudinalDimension;\n\t\t\tthis.mapWidth = this.map.transverseDimension;\n\n\t\t\tthis.mapList = [];\n\t\t\tfor (let i = 0; i < this.mapLong; i++) {\n\t\t\t\tthis.mapList.push([]);\n\t\t\t\tfor (let j = 0; j < this.mapWidth; j++) {\n\t\t\t\t\tlet data = {\n\t\t\t\t\t\tcoordinate:\n\t\t\t\t\t\t\t(this.mapLong - i).toString().padStart(2, '0') + (j + 1).toString().padStart(2, '0'),\n\t\t\t\t\t\tchessPiecesNumber: '',\n\t\t\t\t\t\tchessPiecesName: '',\n\t\t\t\t\t\tchessPiecesCover: ''\n\t\t\t\t\t};\n\t\t\t\t\tthis.mapList[i].push(data);\n\t\t\t\t}\n\t\t\t}\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.arrange();\n\t\t\t}, 5);\n\t\t},\n\t\tarrange() {\n\t\t\tlet offsetTop = 0;\n\t\t\tlet lineIndex = 0;\n\t\t\tdocument.querySelectorAll('.block').forEach((item) => {\n\t\t\t\titem.style.marginLeft = '0px';\n\t\t\t\tif (offsetTop !== item.offsetTop) {\n\t\t\t\t\t++lineIndex;\n\t\t\t\t\tif (lineIndex % 2 === 0) {\n\t\t\t\t\t\titem.style.marginLeft = 66.8 * 0.5 + 'px';\n\t\t\t\t\t\t// parseInt(this.width) * 0.5 + parseInt(this.marginLeftRight) * 0.5 + 0 + 'px';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\toffsetTop = item.offsetTop;\n\t\t\t});\n\t\t},\n\t\tasync queryAllFunc() {\n\t\t\tlet data = {\n\t\t\t\tid: this.verdictRecordId\n\t\t\t};\n\t\t\tlet rst = await queryVerdictResult(data);\n\t\t\tlet resultData = rst.data.data;\n\t\t\tfor (var key in resultData) {\n\t\t\t\tthis.game[key] = resultData[key];\n\t\t\t}\n\t\t\tthis.roundActive = this.game.chessRound;\n\t\t\tif (this.user.id == this.game.inviterUserId) {\n\t\t\t\tthis.isAdmin = true;\n\t\t\t}\n\t\t\t//格式化campList\n\t\t\tthis.formatterCampList();\n\t\t\tthis.chessRoundLimit = resultData.chessRoundLimit;\n\t\t\tthis.initialRoundOptions(this.chessRoundLimit);\n\t\t\tthis.queryChessRoundFunc();\n\t\t\tthis.getRoundStatus();\n\t\t\tif (this.game.status < 30) {\n\t\t\t\tthis.game.nowRound = 0;\n\t\t\t} else {\n\t\t\t\tthis.game.nowRound = this.game.chessRound;\n\t\t\t}\n\t\t\tif (this.game.status == 50) {\n\t\t\t\tlet result = this.game.verdictResult;\n\t\t\t\tthis.game.resultStr = '';\n\t\t\t\tif (result == 20) {\n\t\t\t\t\tthis.game.result = 0;\n\t\t\t\t\tthis.game.resultStr = '双方平局';\n\t\t\t\t} else if (result == 10) {\n\t\t\t\t\tif (this.game.firstCampId == this.campId) {\n\t\t\t\t\t\tthis.game.result = 1;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.game.result = 2;\n\t\t\t\t\t}\n\t\t\t\t\tthis.game.resultStr = this.game.firstCampName + '击败了' + this.game.secondCampName;\n\t\t\t\t} else {\n\t\t\t\t\tif (this.game.firstCampId == this.campId) {\n\t\t\t\t\t\tthis.game.result = 2;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.game.result = 1;\n\t\t\t\t\t}\n\t\t\t\t\tthis.game.resultStr = this.game.secondCampName + '击败了' + this.game.firstCampName;\n\t\t\t\t}\n\t\t\t\tif (this.isAdmin) {\n\t\t\t\t\tthis.getTableScoreFinal();\n\t\t\t\t\t// this.$refs.scoreTableFinal.open();\n\t\t\t\t} else {\n\t\t\t\t\tthis.$refs.showResult.open();\n\t\t\t\t}\n\t\t\t\t// this.$refs.showResult.open();\n\t\t\t\t// this.$refs.showSettlement.open();\n\t\t\t}\n\n\t\t\tif (this.game.baseRound != this.game.chessRound) {\n\t\t\t\tthis.isAttack = false;\n\t\t\t\tthis.isMove = false;\n\t\t\t\tlet data = {\n\t\t\t\t\tchessRound: this.game.chessRound,\n\t\t\t\t\tuserId: this.user.id,\n\t\t\t\t\tverdictRecordId: this.verdictRecordId\n\t\t\t\t};\n\t\t\t\tqueryActionEffect(data).then((res) => {\n\t\t\t\t\tthis.game.settlement = res.data.data;\n\t\t\t\t\t//this.game.showSettlement = true\n\t\t\t\t\tthis.game.baseRound = this.game.chessRound;\n\t\t\t\t});\n\t\t\t}\n\t\t\t// if (this.game.status >= 30) {\n\t\t\t// \tthis.isOwnRoundFunc();\n\t\t\t// }\n\n\t\t\t// if (!this.isUser | !this.game.isOwn) {\n\t\t\tthis.queryUsChessPiecesInfoFunc();\n\t\t\t// }\n\t\t},\n\t\tqueryChessRoundFunc() {\n\t\t\tif (this.game.roundPeriod == 1) {\n\t\t\t\tthis.game.roundDesc = '直瞄射击阶段';\n\t\t\t\tthis.stageActive = 0;\n\t\t\t}\n\t\t\tif (this.game.roundPeriod == 2) {\n\t\t\t\tthis.game.roundDesc = '机动阶段';\n\t\t\t\tthis.stageActive = 1;\n\t\t\t}\n\t\t\tif (this.game.roundPeriod == 3) {\n\t\t\t\tthis.game.roundDesc = '压制标记的移除阶段';\n\t\t\t\tthis.stageActive = 2;\n\t\t\t}\n\t\t\tif (this.game.roundPeriod == 4) {\n\t\t\t\tthis.game.roundDesc = '间射击阶段';\n\t\t\t\tthis.stageActive = 3;\n\t\t\t}\n\t\t\tthis.queryPromptFunc();\n\t\t},\n\t\tformatterCampList() {\n\t\t\tthis.campList = [];\n\t\t\tlet dataFirst = {\n\t\t\t\tcampId: this.game.firstCampId,\n\t\t\t\tcampName: this.game.firstCampName,\n\t\t\t\tuserId: this.game.firstUserId,\n\t\t\t\tuserName: this.game.firstUserName,\n\t\t\t\tverdictRecordId: this.verdictRecordId\n\t\t\t};\n\t\t\tthis.campList.push(dataFirst);\n\t\t\tlet dataSecond = {\n\t\t\t\tcampId: this.game.secondCampId,\n\t\t\t\tcampName: this.game.secondCampName,\n\t\t\t\tuserId: this.game.secondUserId,\n\t\t\t\tuserName: this.game.secondUserName,\n\t\t\t\tverdictRecordId: this.verdictRecordId\n\t\t\t};\n\t\t\tthis.campList.push(dataSecond);\n\t\t\tif (this.isAdmin) {\n\t\t\t\tthis.avatarText = '导演';\n\t\t\t} else if (this.user.id == this.game.firstUserId) {\n\t\t\t\tthis.avatarText = this.game.firstCampName;\n\t\t\t} else if (this.user.id == this.game.secondUserId) {\n\t\t\t\tthis.avatarText = this.game.secondCampName;\n\t\t\t}\n\t\t\tconsole.log('this.user.id: ', this.user.id);\n\t\t\tconsole.log('this.game.firstUserId: ', this.game.firstUserId);\n\t\t\tconsole.log('this.game.secondUserId: ', this.game.secondUserId);\n\t\t},\n\t\tasync isOwnRoundFunc() {\n\t\t\tlet data = {\n\t\t\t\tid: this.verdictRecordId,\n\t\t\t\tuserId: this.user.id\n\t\t\t};\n\t\t\tlet res = await isOwnRound(data);\n\t\t\tthis.game.isOwn = res.data.data;\n\t\t},\n\t\tasync queryUsChessPiecesInfoFunc() {\n\t\t\tlet data = {\n\t\t\t\tverdictRecordId: this.verdictRecordId,\n\t\t\t\tchessRound: this.game.chessRound,\n\t\t\t\troundPeriod: this.stageActive + 1\n\t\t\t};\n\t\t\tlet res = '';\n\t\t\tif (this.isUser) {\n\t\t\t\tdata.campId = this.campId;\n\t\t\t\tres = await queryAllChessPiecesInfo(data);\n\t\t\t} else {\n\t\t\t\tres = await queryAllChessPiecesInfo(data);\n\t\t\t}\n\t\t\tfor (let itemk of this.mapList)\n\t\t\t\tfor (let h of itemk) {\n\t\t\t\t\th.chessPiecesNumber = '';\n\t\t\t\t\th.chessPiecesName = '';\n\t\t\t\t\th.chessPiecesCover = '';\n\t\t\t\t\th.chessPiecesCampId = '';\n\t\t\t\t\th.statusDesc = '';\n\t\t\t\t\th.status = 10;\n\t\t\t\t}\n\t\t\tthis.game.userPiece = [];\n\t\t\tfor (let item of res.data.data) {\n\t\t\t\titem.isAdd = false;\n\t\t\t\titem.canMove = true;\n\t\t\t\titem.isDie = false;\n\t\t\t\tthis.game.userPiece.push(item);\n\t\t\t\tfor (let itemk of this.mapList)\n\t\t\t\t\tfor (let h of itemk) {\n\t\t\t\t\t\tif (h.coordinate == item.coordinate) {\n\t\t\t\t\t\t\th.chessPiecesNumber = item.chessPiecesNumber;\n\t\t\t\t\t\t\th.chessPiecesName = item.chessPiecesName;\n\t\t\t\t\t\t\th.chessPiecesCover = item.chessPiecesCover;\n\t\t\t\t\t\t\th.chessPiecesCampId = item.chessPiecesCampId;\n\t\t\t\t\t\t\th.chessPiecesTypeName = item.chessPiecesTypeName;\n\t\t\t\t\t\t\th.statusDesc = item.statusDesc;\n\t\t\t\t\t\t\th.isAction = item.isAction;\n\t\t\t\t\t\t\th.status = item.status;\n\t\t\t\t\t\t\titem.isAdd = true;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tcancelPiece() {\n\t\t\tlet number = this.selCellInfo.chessPiecesNumber;\n\t\t\tthis.deployChessPiecesFunc(this.selCellInfo, false);\n\t\t\tthis.selCellInfo.chessPiecesNumber = '';\n\t\t\tthis.selCellInfo.chessPiecesName = '';\n\t\t\tthis.selCellInfo.chessPiecesCover = '';\n\t\t\tthis.showDown = false;\n\t\t\tfor (let item of this.game.userPiece) {\n\t\t\t\tif (item.chessPiecesNumber == number) {\n\t\t\t\t\titem.isAdd = false;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tendDeployFunc() {\n\t\t\tlet data = {\n\t\t\t\tverdictRecordId: this.verdictRecordId,\n\t\t\t\tuserId: this.user.id\n\t\t\t};\n\t\t\tendDeploy(data).then((res) => {\n\t\t\t\tif (res.data.code == 200) {\n\t\t\t\t\tsendMsg(\n\t\t\t\t\t\tJSON.stringify({\n\t\t\t\t\t\t\taction: 'takeAction',\n\t\t\t\t\t\t\tverdictRecordId: this.verdictRecordId\n\t\t\t\t\t\t})\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.game.isDeplaoy = false;\n\t\t},\n\t\tattackPoint() {\n\t\t\tthis.isAttack = false;\n\t\t\tthis.isMove = false;\n\t\t\tthis.$refs.moveConfirm.close();\n\t\t\tthis.$refs.attackConfirm.close();\n\t\t\tthis.chessPiecesActionFunc(this.selCellInfo, this.targetCellInfo, true);\n\t\t},\n\t\tmovePoint() {\n\t\t\tthis.isAttack = false;\n\t\t\tthis.isMove = false;\n\t\t\tthis.$refs.moveConfirm.close();\n\t\t\tthis.$refs.attackConfirm.close();\n\t\t\tthis.chessPiecesActionFunc(this.selCellInfo, this.targetCellInfo, false);\n\t\t},\n\t\tattack() {\n\t\t\tthis.isAttack = true;\n\t\t\tthis.isMove = false;\n\t\t\tthis.showChessButtonInfo.visible = false;\n\t\t},\n\t\tmove() {\n\t\t\tthis.isAttack = false;\n\t\t\tthis.isMove = true;\n\t\t\tthis.showChessButtonInfo.visible = false;\n\t\t},\n\t\thide() {\n\t\t\tthis.isAttack = false;\n\t\t\tthis.isMove = false;\n\t\t\tthis.showChessButtonInfo.visible = false;\n\t\t\tthis.chessPiecesActionFunc(this.selCellInfo, this.selCellInfo, false, true);\n\t\t},\n\t\tasync chessPiecesActionFunc(source, target, isAttack, isHide) {\n\t\t\tlet data = {\n\t\t\t\tactionMode: isAttack ? 20 : 10,\n\t\t\t\tcampId: this.campId,\n\t\t\t\tchessPiecesNumber: source.chessPiecesNumber,\n\t\t\t\tselfCoordinate: source.coordinate,\n\t\t\t\ttargetCoordinate: target.coordinate,\n\t\t\t\tuserId: this.user.id,\n\t\t\t\tverdictRecordId: this.verdictRecordId,\n\t\t\t\ttargetChessPiecesNumber: target.chessPiecesNumber,\n\t\t\t\tchessRound: this.roundActive,\n\t\t\t\troundPeriod: this.stageActive + 1\n\t\t\t};\n\t\t\tisHide && (data.actionMode = 30);\n\n\t\t\t// if (data.actionMode == 20 && this.game.roundPeriod != 60 && this.game.roundPeriod != 70) {selectTargetIndex\n\t\t\tawait chessPiecesActionNew(data);\n\t\t\tif (data.actionMode == 10) {\n\t\t\t\tthis.queryUsChessPiecesInfoFunc();\n\t\t\t\tsendMsg(\n\t\t\t\t\tJSON.stringify({\n\t\t\t\t\t\taction: 'refresh',\n\t\t\t\t\t\tverdictRecordId: this.verdictRecordId\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t// let index = this.selectIndex[0];\n\t\t\t// let itemArray = this.mapList[index];\n\t\t\t// let item = itemArray[this.selectIndex[1]];\n\t\t\t// item.isAction = true;\n\t\t\t// this.$set(itemArray, this.selectIndex[1], item);\n\t\t\t// this.$set(this.mapList, index, itemArray);\n\t\t\tawait this.queryPromptFunc();\n\t\t},\n\n\t\tasync queryPromptFunc() {\n\t\t\tlet data = {\n\t\t\t\t// chessRound: this.roundActive,\n\t\t\t\tid: this.verdictRecordId\n\t\t\t\t// roundPeriod: this.stageActive + 1\n\t\t\t};\n\n\t\t\tdata.userId = this.user.id;\n\t\t\tlet prompt = await queryPrompt(data);\n\t\t\t// let array = prompt.data.data.actionDescList;\n\t\t\tlet array = [];\n\t\t\tthis.historyList = prompt.data.data.verdictRecordHistoryList;\n\t\t\tfor (let i in this.historyList) {\n\t\t\t\tarray.push(this.historyList[i].actionDesc);\n\t\t\t}\n\t\t\tarray.filter(function (s) {\n\t\t\t\treturn s && s.trim();\n\t\t\t});\n\t\t\t// array.reverse();\n\t\t\t// for (let i in array) {\n\t\t\t// \tarray[i] = array[i].replaceAll(\n\t\t\t// \t\t'裁决结果',\n\t\t\t// \t\t'<a style=\"color:blue\" @click=\"cjResult(' + i + ')\" >裁决结果</a>'\n\t\t\t// \t);\n\t\t\t// }\n\t\t\tthis.game.actionDescList = array;\n\t\t},\n\t\tcheckCanAttack() {\n\t\t\t//TODO   A表示什么\n\t\t\t// if (\n\t\t\t// \t//this.selCellInfo.chessPiecesTypeName == 'A' &&\n\t\t\t// \tthis.game.roundPeriod == 60 ||\n\t\t\t// \tthis.game.roundPeriod == 70\n\t\t\t// ) {\n\t\t\t// \treturn true;\n\t\t\t// } else\n\t\t\tif (this.game.roundPeriod == 1 || this.game.roundPeriod == 4) {\n\t\t\t\treturn true;\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\t\tgameOver() {\n\t\t\t// clearInterval(this.tmQuery);\n\t\t\tthis.$refs.showResult.close();\n\t\t\t// if (this.isUser) {\n\t\t\t// \tuni.navigateTo({\n\t\t\t// \t\turl: '/pages/mode/select'\n\t\t\t// \t});\n\t\t\t// } else {\n\t\t\t// \tuni.navigateTo({\n\t\t\t// \t\turl: '/pages/mode/select'\n\t\t\t// \t});\n\t\t\t// }\n\t\t},\n\t\tselPiece(val) {\n\t\t\tthis.selCellInfo.chessPiecesNumber = val.chessPiecesNumber;\n\t\t\tthis.selCellInfo.chessPiecesName = val.chessPiecesName;\n\t\t\tthis.selCellInfo.chessPiecesCover = val.chessPiecesCover;\n\t\t\tthis.selCellInfo.statusDesc = '-';\n\t\t\tthis.deployChessPiecesFunc(this.selCellInfo, true);\n\t\t\tval.isAdd = true;\n\t\t\tthis.$refs.showSelPiece.close();\n\t\t},\n\n\t\tdeployChessPiecesFunc(val, isAdd) {\n\t\t\tlet data = {\n\t\t\t\tactionMode: 10,\n\t\t\t\tcampId: this.campId,\n\t\t\t\tchessPiecesNumber: val.chessPiecesNumber,\n\t\t\t\tselfCoordinate: 'string',\n\t\t\t\ttargetCoordinate: 'string',\n\t\t\t\tuserId: this.user.id,\n\t\t\t\tverdictRecordId: this.verdictRecordId\n\t\t\t};\n\t\t\tif (isAdd) {\n\t\t\t\tdata.selfCoordinate = '0000';\n\t\t\t\tdata.targetCoordinate = val.coordinate;\n\t\t\t} else {\n\t\t\t\tdata.selfCoordinate = val.coordinate;\n\t\t\t\tdata.targetCoordinate = '0000';\n\t\t\t}\n\t\t\tdeployChessPieces(data);\n\t\t},\n\t\tasync endRoundFunc() {\n\t\t\tlet data = {\n\t\t\t\tid: this.verdictRecordId,\n\t\t\t\tuserId: this.user.id,\n\t\t\t\tchessRound: this.roundActive,\n\t\t\t\troundPeriod: this.stageActive + 1\n\t\t\t};\n\t\t\tawait endRound(data);\n\t\t\tsendMsg(\n\t\t\t\tJSON.stringify({\n\t\t\t\t\taction: 'endRound',\n\t\t\t\t\tverdictRecordId: this.verdictRecordId\n\t\t\t\t})\n\t\t\t);\n\t\t}\n\t}\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.top__view {\n\tdisplay: flex;\n\twidth: 96vw;\n\theight: 10vh;\n\t.dice-toolbar__veiw {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\twidth: 80rpx;\n\t\tmargin-left: 10rpx;\n\t\tbutton {\n\t\t\tmargin-left: 10rpx;\n\t\t}\n\t}\n\n\t.avatar-view {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tmargin-left: 10rpx;\n\t}\n}\n.foot-view {\n\tdisplay: flex;\n\twidth: 96vw;\n\theight: 10vh;\n\t// margin-top: 20px;\n}\n.stage-over__btn {\n\twidth: 740rpx;\n}\n\n.main__view {\n\theight: 80vh;\n\tz-index: 990;\n}\n\n.dice__veiw {\n\tdisplay: flex;\n}\n.map__view {\n\tbackground-color: #fff;\n\twidth: 100vw;\n\theight: 80vh;\n\t// margin: 2vh 0 2vh 0;\n\toverflow: scroll;\n\tdisplay: inline-block;\n}\n\n.bg {\n\tposition: absolute;\n\twidth: var(--mapWidth);\n\theight: var(--mapHeight);\n\tmargin-top: var(--marginTop);\n}\n\n.bgCell {\n\tposition: absolute;\n\ttop: var(--mapTop);\n\tleft: var(--mapLeft);\n}\n\n.map {\n\tposition: relative;\n}\n\n.block {\n\twidth: var(--cellWidth);\n\theight: var(--cellHeight);\n\tmargin-right: 0px;\n\tmargin-top: var(--marginTop);\n\tclip-path: polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%);\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tbackground-color: rgba(85, 255, 255, 0);\n\tflex-shrink: 0;\n\t// border: #10292f solid 1px;\n\t// background-color: #fefefe;\n\t// opacity: 0.5;\n\n\t.block_border {\n\t\tposition: relative;\n\t\twidth: var(--cellWidth);\n\t\theight: var(--cellHeight);\n\t\t// line-height: var(--cellHeight);\n\t\tbackground: rgba(0, 0, 0, 0);\n\t\tclip-path: polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%);\n\t\tdisplay: table-cell;\n\t\ttext-align: center;\n\t\tborder: #10292f solid 1px;\n\t\t// padding-top: var(--chessMapPaddingTop);\n\t}\n\n\t.statusDesc {\n\t\tmargin-top: var(--chessMapPaddingTop);\n\t}\n\n\t.chessImage {\n\t\twidth: var(--chessMapWidth);\n\t\theight: var(--chessMapHeight);\n\t\t// margin-left: var(--chessMapMarginLeft);\n\t}\n}\n\n.newcontextmenu {\n\tposition: absolute;\n\twidth: 100px;\n\tborder-radius: 10px;\n\tz-index: 1000;\n}\n\n.score-btn-view {\n\ttext-align: center;\n\tbackground-color: #10292f;\n\twidth: 100%;\n\tpadding: 10px 10px 10px 10px;\n\tcursor: pointer;\n}\n\n.close-score-btn-view {\n\tposition: relative;\n}\n.close-score-btn-view::after {\n\tcontent: 'x';\n\tposition: absolute;\n\ttop: -10px;\n\tright: -25px;\n\twidth: 20px;\n\theight: 20px;\n\tborder-radius: 50%;\n\tbackground-color: #10292f;\n\tcolor: white;\n\ttext-align: center;\n\tline-height: 20px;\n\tcursor: pointer;\n}\n\n.rightBtn {\n\tposition: fixed;\n\ttop: 200px;\n\tright: 0px;\n\tz-index: 999;\n\ttext-align: center;\n\n\t.btnView {\n\t\twriting-mode: vertical-rl;\n\t\tbackground-color: #2979ff;\n\t\tcolor: #ffffff;\n\t\ttext-align: center;\n\t\tmargin-top: 2px;\n\t\talign-items: center;\n\t\tpadding: 10px 5px 10px 5px;\n\t}\n}\n\n.rightTopBtn {\n\tposition: fixed;\n\ttop: 10vh;\n\tright: 50px;\n\tz-index: 999;\n\ttext-align: center;\n\n\t.btnView {\n\t\tbackground-color: #2979ff;\n\t\tcolor: #ffffff;\n\t\ttext-align: center;\n\t\tmargin-top: 2px;\n\t\talign-items: center;\n\t\tpadding: 10px 5px 10px 5px;\n\t}\n}\n</style>","import mod from \"-!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&id=5c8a2998&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&id=5c8a2998&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1730963221304\n      var cssReload = require(\"D:/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}